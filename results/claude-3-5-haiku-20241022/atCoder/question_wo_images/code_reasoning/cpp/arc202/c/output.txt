I need to trace through this C++ program step by step.

**Understanding the problem:**
- R_n is a number with n consecutive 1s (e.g., R_3 = 111)
- We need to compute LCM(R_{A_1}, R_{A_2}, ..., R_{A_k}) mod 998244353 for k=1,2,...,N

**Understanding the code:**

1. `g[i]` represents R_i mod p (a number with i consecutive 1s)
2. The prework function:
   - Computes `g[i] = (g[i-1] * 10 + 1) % p` which builds R_i
   - Computes `invf[i] = inv(g[i])` (modular inverse)
   - Then does some transformation related to divisors

3. The main logic uses a `used` array to track which divisors have been processed
4. For each input number u, it finds all divisors and multiplies ans by g[divisor] if not used

**Tracing the execution:**

Input: N=3, A=[2, 4, 6]

**Prework phase:**
- g[1] = 1
- g[2] = (1*10 + 1) = 11
- g[3] = (11*10 + 1) = 111
- g[4] = (111*10 + 1) = 1111
- g[5] = (1111*10 + 1) = 11111
- g[6] = (11111*10 + 1) = 111111
- etc.

Then the complex transformation happens with divisors...

**Main loop:**

Initial: ans = 1, all used[i] = false

**Iteration 1: u = 2**
- Divisors of 2: 1, 2
- used[1] = false, so: ans = 1 * g[1] % p = 1 * 1 = 1, used[1] = true
- used[2] = false, so: ans = 1 * g[2] % p = 1 * 11 = 11, used[2] = true
- Output: 11

**Iteration 2: u = 4**
- Divisors of 4: 1, 2, 4
- used[1] = true (skip)
- used[2] = true (skip)
- used[4] = false, so: ans = 11 * g[4] % p = 11 * 1111 = 12221, used[4] = true
- Output: 12221

**Iteration 3: u = 6**
- Divisors of 6: 1, 2, 3, 6
- used[1] = true (skip)
- used[2] = true (skip)
- used[3] = false, so: ans = 12221 * g[3] % p = 12221 * 111 = 1356531, used[3] = true
- used[6] = false, so: ans = 1356531 * g[6] % p = 1356531 * 111111 = 150726530541, used[6] = true
- ans % 998244353 = 150726530541 % 998244353 = 150726530541 - 151*998244353 = 150726530541 - 150735897503 = -9366962... 

Let me recalculate more carefully with modular arithmetic:
- ans = 1356531 * 111111 % 998244353
- 1356531 * 111111 = 150726530541
- 150726530541 % 998244353 = 726267382

Output: 726267382

11
12221
726267382