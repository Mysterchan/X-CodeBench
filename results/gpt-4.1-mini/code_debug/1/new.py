import matplotlib.pyplot as plt

inf = -1

palette = {
	16755: [(8726, 20), (8029, inf)],
	84860: [(3439, 20), (4585, 40), (4990, 60), (7237, 80), (8241, 100), (1893, 120), (1537, 140), (1434, 160), (1165, 180), (1606, 200), (1593, 220), (2736, 240), (4634, 260), (7876, 280), (7448, 300), (4920, 320), (4170, 340), (3074, 360), (2309, 380), (9973, inf)],
	242931: [(409, 10), (536, 20), (489, 30), (481, 40), (544, 50), (678, 60), (907, 70), (1251, 80), (1929, 90), (2851, 100), (4193, 110), (5704, 120), (4411, 130), (2533, 140), (2646, 150), (2672, 160), (2617, 170), (2507, 180), (2516, 190), (2675, 200), (2591, 210), (2588, 220), (2597, 230), (2768, 240), (2961, 250), (3020, 260), (3059, 270), (3049, 280), (3090, 290), (3296, 300), (3187, 310), (3256, 320), (3291, 330), (3275, 340), (3615, 350), (3757, 360), (3871, 370), (3849, 380), (3836, 390), (3705, 400), (3818, 410), (3911, 420), (4062, 430), (4193, 440), (4413, 450), (4413, 460), (4387, 470), (4500, 480), (4547, 490), (9053, 510), (9153, 530), (9378, 550), (8867, 570), (8828, 590), (8023, 610), (7043, 630), (6459, 650), (5885, 670), (5115, 690), (4191, 710), (3501, 730), (2921, 750), (9060, inf)],
	27868: [( 1435, 20), ( 2011, 40), ( 3731, 60), ( 3481, 80), ( 2988, 100), ( 2211, 120), (  589, 140), (  629, 160), (  805, 180), ( 9988, inf)],
	328666: [(2863, 10), (2399, 20), (4471, 30), (6288, 40), (10097, 50), (14279, 60), (15496, 70), (19285, 80), (17463, 90), (11674, 100), (10639, 110), (10127, 120), (11113, 130), (13380, 140), (15469, 150), (16069, 160), (14800, 170), (11883, 180), (9652, 190), (8774, 200), (8787, 210), (17262, 230), (13791, 250), (12693, 270), (11791, 290), (9938, 310), (7493, 330), (4933, 350), (3457, 370), (2139, 390), (1250, 410), (8911, inf)],
	1103347: [(12380, 10), (80853, 20), (174244, 30), (186416, 40), (151358, 50), (118824, 60), (87645, 70), (72871, 80), (56003, 90), (38613, 100), (31674, 110), (38589, 130), (22957, 150), (12058, 170), (8975, 190), (9887, inf)],
}

for (variant, varname) in [(palette, "palette")]:
	maxx = 0
	for (k, v) in variant.items():
		cur = k
		accx = [0]
		accy = [cur]
		lastx = 0
		for (howmany, x) in v:
			cur -= howmany
			if x == inf:
				x = lastx + 10
			accx += [x]
			accy += [cur]
			lastx = x
			maxx = max(maxx, x)
		plt.plot(accx, accy, label=f"{k}")

	plt.ylabel('current_rgbs_len')
	plt.xlabel('t')
	plt.title(varname)
	plt.legend()
	plt.xlim(0, maxx)
	plt.ylim(0, 1103347)
	plt.ticklabel_format(style='plain')

	# Fix for y-label cutoff when using plain style ticklabel_format
	plt.gcf().subplots_adjust(left=0.15)

	import os
	output_dir = os.path.dirname(__file__)
	output_path = os.path.join(output_dir, '1.png')
	plt.savefig(output_path)
	plt.close()