import sys
input = sys.stdin.readline

N = int(input())
A = list(map(int, input().split()))

# 操作は区間 [L,R] を選び、その区間の値を A_L に置き換える
# 操作後の数列は、区間 [L,R] の部分が A_L で埋められ、
# それ以外は元のまま

# 操作後の数列は (A_1,...,A_{L-1}, A_L,...,A_L, A_{R+1},...,A_N)
# となる。

# つまり、操作後の数列は以下の形：
# - 区間 [L,R] の値は A_L
# - それ以外は元の A のまま

# これらの数列のうち異なるものの個数を求める。

# 重要な点：
# 操作は必ず1回行う。
# (L,R) の選び方で得られる数列の種類数を数える。

# 例えば、(L,R) と (L',R') で同じ数列になる場合はカウントは1。

# どういう場合に同じ数列になるか？
# 操作後の数列は、区間 [L,R] が A_L で埋められる。
# つまり、区間 [L,R] の値は A_L である。

# もし (L,R) と (L',R') で同じ数列になるなら、
# それぞれの区間で置き換えた値が同じで、
# 置き換えた区間以外の部分も同じ。

# 置き換えた区間以外は元のままなので、
# 置き換え区間の外側の値は同じ。

# つまり、操作後の数列は
# A[0:L-1] + [A_L]*(R-L+1) + A[R+1:N]

# これが同じになるには、
# - A[0:L-1] = A[0:L'-1]
# - A[R+1:N] = A[R'+1:N]
# - 置き換え区間の値 = A_L = A_{L'}

# つまり、区間の外側の部分は同じで、
# 置き換え区間の値も同じ。

# したがって、異なる操作後の数列は、
# (L,R) の選び方で得られる
# 「A[0:L-1] + [A_L]*(R-L+1) + A[R+1:N]」の異なるものの数。

# これを効率的に数える方法を考える。

# まず、区間 [L,R] の値は A_L で埋められる。
# つまり、区間の左端の値が決め手。

# 操作後の数列は、区間外は元のままなので、
# 操作後の数列は元の数列の部分列を
# ある区間だけ左端の値で置き換えたもの。

# ここで、区間外の部分は変わらないので、
# 操作後の数列は元の数列の部分列を
# ある値で置き換えたもの。

# これを異なるものとして数える。

# 重要なことは、操作後の数列は
# 「元の数列の一部を A_L で置き換えたもの」
# であり、区間外は元のまま。

# つまり、操作後の数列は
# A[0:L-1] + [A_L]*(R-L+1) + A[R+1:N]

# これが異なる数列の数を数える。

# ここで、区間 [L,R] の左端の値は A_L。
# 右端は R >= L。

# つまり、操作後の数列は
# 先頭から L-1 まで元のまま、
# L から R まで A_L で埋め、
# R+1 から末尾まで元のまま。

# これを異なるものとして数える。

# これを効率的に数える方法は以下。

# 1. 操作後の数列は、区間外は元のままなので、
#    操作後の数列の違いは区間 [L,R] の置き換え部分と
#    それ以外の部分の組み合わせで決まる。

# 2. 置き換え区間の左端の値は A_L。
#    置き換え区間の長さは R-L+1。

# 3. 操作後の数列は、
#    A[0:L-1] + [A_L]*(R-L+1) + A[R+1:N]

# 4. これが異なる数列になる条件は、
#    (L,R) の選び方で得られる数列が異なること。

# 5. つまり、(L,R) と (L',R') で同じ数列になるのは、
#    A[0:L-1] = A[0:L'-1]
#    A[R+1:N] = A[R'+1:N]
#    A_L = A_{L'}

#  これを満たす (L,R) と (L',R') は同じ数列を作る。

# 6. したがって、異なる数列の数は、
#    (L,R) の組み合わせで、
#    A[0:L-1], A[R+1:N], A_L の組み合わせが異なる数。

# 7. ここで、A[0:L-1] は prefix、
#    A[R+1:N] は suffix。

# 8. つまり、(L,R) の組み合わせで、
#    prefix(L-1), suffix(R+1), A_L の組み合わせが異なる数。

# 9. これを効率的に数えるには、
#    prefix と suffix のハッシュを使う。

# 10. しかし N=10^6 なのでハッシュ計算は可能。

# 11. さらに、A_L は区間の左端の値。

# 12. したがって、操作後の数列は
#     prefix(L-1) + [A_L]*(R-L+1) + suffix(R+1)

# 13. これを異なるものとして数える。

# 14. ここで、区間 [L,R] の長さは任意。

# 15. つまり、(L,R) の組み合わせで、
#     prefix(L-1), suffix(R+1), A_L の組み合わせが異なる数。

# 16. これを数えるには、
#     prefix と suffix のハッシュを計算し、
#     (prefix(L-1), suffix(R+1), A_L) の組み合わせを
#     集計すればよい。

# 17. ただし、R >= L なので R+1 >= L+1。

# 18. R+1 は L+1 以上。

# 19. つまり、R+1 >= L+1。

# 20. したがって、R+1 >= L+1。

# 21. つまり、suffix の開始位置は L+1 以上。

# 22. これを考慮して、(L,R) の組み合わせで
#     (prefix(L-1), suffix(R+1), A_L) の組み合わせを数える。

# 23. しかし、R+1 >= L+1 なので、
#     suffix の開始位置は L+1 以上。

# 24. つまり、suffix の開始位置は L+1 から N+1 まで。

# 25. ここで、suffix(N+1) は空列。

# 26. したがって、suffix の開始位置は L+1 以上。

# 27. これを使って計算する。

# 28. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 29. つまり、suffix の開始位置は L+1 以上。

# 30. これを使って計算する。

# 31. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 32. したがって、suffix の開始位置は L+1 以上。

# 33. これを使って計算する。

# 34. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 35. つまり、suffix の開始位置は L+1 以上。

# 36. これを使って計算する。

# 37. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 38. つまり、suffix の開始位置は L+1 以上。

# 39. これを使って計算する。

# 40. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 41. つまり、suffix の開始位置は L+1 以上。

# 42. これを使って計算する。

# 43. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 44. つまり、suffix の開始位置は L+1 以上。

# 45. これを使って計算する。

# 46. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 47. つまり、suffix の開始位置は L+1 以上。

# 48. これを使って計算する。

# 49. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 50. つまり、suffix の開始位置は L+1 以上。

# 51. これを使って計算する。

# 52. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 53. つまり、suffix の開始位置は L+1 以上。

# 54. これを使って計算する。

# 55. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 56. つまり、suffix の開始位置は L+1 以上。

# 57. これを使って計算する。

# 58. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 59. つまり、suffix の開始位置は L+1 以上。

# 60. これを使って計算する。

# 61. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 62. つまり、suffix の開始位置は L+1 以上。

# 63. これを使って計算する。

# 64. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 65. つまり、suffix の開始位置は L+1 以上。

# 66. これを使って計算する。

# 67. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 68. つまり、suffix の開始位置は L+1 以上。

# 69. これを使って計算する。

# 70. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 71. つまり、suffix の開始位置は L+1 以上。

# 72. これを使って計算する。

# 73. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 74. つまり、suffix の開始位置は L+1 以上。

# 75. これを使って計算する。

# 76. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 77. つまり、suffix の開始位置は L+1 以上。

# 78. これを使って計算する。

# 79. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 80. つまり、suffix の開始位置は L+1 以上。

# 81. これを使って計算する。

# 82. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 83. つまり、suffix の開始位置は L+1 以上。

# 84. これを使って計算する。

# 85. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 86. つまり、suffix の開始位置は L+1 以上。

# 87. これを使って計算する。

# 88. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 89. つまり、suffix の開始位置は L+1 以上。

# 90. これを使って計算する。

# 91. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 92. つまり、suffix の開始位置は L+1 以上。

# 93. これを使って計算する。

# 94. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 95. つまり、suffix の開始位置は L+1 以上。

# 96. これを使って計算する。

# 97. しかし、R は L 以上なので、
#     R+1 は L+1 以上。

# 98. つまり、suffix の開始位置は L+1 以上。

# 99. これを使って計算する。

# 100. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 101. つまり、suffix の開始位置は L+1 以上。

# 102. これを使って計算する。

# 103. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 104. つまり、suffix の開始位置は L+1 以上。

# 105. これを使って計算する。

# 106. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 107. つまり、suffix の開始位置は L+1 以上。

# 108. これを使って計算する。

# 109. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 110. つまり、suffix の開始位置は L+1 以上。

# 111. これを使って計算する。

# 112. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 113. つまり、suffix の開始位置は L+1 以上。

# 114. これを使って計算する。

# 115. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 116. つまり、suffix の開始位置は L+1 以上。

# 117. これを使って計算する。

# 118. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 119. つまり、suffix の開始位置は L+1 以上。

# 120. これを使って計算する。

# 121. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 122. つまり、suffix の開始位置は L+1 以上。

# 123. これを使って計算する。

# 124. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 125. つまり、suffix の開始位置は L+1 以上。

# 126. これを使って計算する。

# 127. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 128. つまり、suffix の開始位置は L+1 以上。

# 129. これを使って計算する。

# 130. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 131. つまり、suffix の開始位置は L+1 以上。

# 132. これを使って計算する。

# 133. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 134. つまり、suffix の開始位置は L+1 以上。

# 135. これを使って計算する。

# 136. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 137. つまり、suffix の開始位置は L+1 以上。

# 138. これを使って計算する。

# 139. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 140. つまり、suffix の開始位置は L+1 以上。

# 141. これを使って計算する。

# 142. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 143. つまり、suffix の開始位置は L+1 以上。

# 144. これを使って計算する。

# 145. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 146. つまり、suffix の開始位置は L+1 以上。

# 147. これを使って計算する。

# 148. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 149. つまり、suffix の開始位置は L+1 以上。

# 150. これを使って計算する。

# 151. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 152. つまり、suffix の開始位置は L+1 以上。

# 153. これを使って計算する。

# 154. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 155. つまり、suffix の開始位置は L+1 以上。

# 156. これを使って計算する。

# 157. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 158. つまり、suffix の開始位置は L+1 以上。

# 159. これを使って計算する。

# 160. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 161. つまり、suffix の開始位置は L+1 以上。

# 162. これを使って計算する。

# 163. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 164. つまり、suffix の開始位置は L+1 以上。

# 165. これを使って計算する。

# 166. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 167. つまり、suffix の開始位置は L+1 以上。

# 168. これを使って計算する。

# 169. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 170. つまり、suffix の開始位置は L+1 以上。

# 171. これを使って計算する。

# 172. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 173. つまり、suffix の開始位置は L+1 以上。

# 174. これを使って計算する。

# 175. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 176. つまり、suffix の開始位置は L+1 以上。

# 177. これを使って計算する。

# 178. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 179. つまり、suffix の開始位置は L+1 以上。

# 180. これを使って計算する。

# 181. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 182. つまり、suffix の開始位置は L+1 以上。

# 183. これを使って計算する。

# 184. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 185. つまり、suffix の開始位置は L+1 以上。

# 186. これを使って計算する。

# 187. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 188. つまり、suffix の開始位置は L+1 以上。

# 189. これを使って計算する。

# 190. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 191. つまり、suffix の開始位置は L+1 以上。

# 192. これを使って計算する。

# 193. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 194. つまり、suffix の開始位置は L+1 以上。

# 195. これを使って計算する。

# 196. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 197. つまり、suffix の開始位置は L+1 以上。

# 198. これを使って計算する。

# 199. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 200. つまり、suffix の開始位置は L+1 以上。

# 201. これを使って計算する。

# 202. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 203. つまり、suffix の開始位置は L+1 以上。

# 204. これを使って計算する。

# 205. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 206. つまり、suffix の開始位置は L+1 以上。

# 207. これを使って計算する。

# 208. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 209. つまり、suffix の開始位置は L+1 以上。

# 210. これを使って計算する。

# 211. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 212. つまり、suffix の開始位置は L+1 以上。

# 213. これを使って計算する。

# 214. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 215. つまり、suffix の開始位置は L+1 以上。

# 216. これを使って計算する。

# 217. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 218. つまり、suffix の開始位置は L+1 以上。

# 219. これを使って計算する。

# 220. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 221. つまり、suffix の開始位置は L+1 以上。

# 222. これを使って計算する。

# 223. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 224. つまり、suffix の開始位置は L+1 以上。

# 225. これを使って計算する。

# 226. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 227. つまり、suffix の開始位置は L+1 以上。

# 228. これを使って計算する。

# 229. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 230. つまり、suffix の開始位置は L+1 以上。

# 231. これを使って計算する。

# 232. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 233. つまり、suffix の開始位置は L+1 以上。

# 234. これを使って計算する。

# 235. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 236. つまり、suffix の開始位置は L+1 以上。

# 237. これを使って計算する。

# 238. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 239. つまり、suffix の開始位置は L+1 以上。

# 240. これを使って計算する。

# 241. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 242. つまり、suffix の開始位置は L+1 以上。

# 243. これを使って計算する。

# 244. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 245. つまり、suffix の開始位置は L+1 以上。

# 246. これを使って計算する。

# 247. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 248. つまり、suffix の開始位置は L+1 以上。

# 249. これを使って計算する。

# 250. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 251. つまり、suffix の開始位置は L+1 以上。

# 252. これを使って計算する。

# 253. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 254. つまり、suffix の開始位置は L+1 以上。

# 255. これを使って計算する。

# 256. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 257. つまり、suffix の開始位置は L+1 以上。

# 258. これを使って計算する。

# 259. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 260. つまり、suffix の開始位置は L+1 以上。

# 261. これを使って計算する。

# 262. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 263. つまり、suffix の開始位置は L+1 以上。

# 264. これを使って計算する。

# 265. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 266. つまり、suffix の開始位置は L+1 以上。

# 267. これを使って計算する。

# 268. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 269. つまり、suffix の開始位置は L+1 以上。

# 270. これを使って計算する。

# 271. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 272. つまり、suffix の開始位置は L+1 以上。

# 273. これを使って計算する。

# 274. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 275. つまり、suffix の開始位置は L+1 以上。

# 276. これを使って計算する。

# 277. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 278. つまり、suffix の開始位置は L+1 以上。

# 279. これを使って計算する。

# 280. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 281. つまり、suffix の開始位置は L+1 以上。

# 282. これを使って計算する。

# 283. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 284. つまり、suffix の開始位置は L+1 以上。

# 285. これを使って計算する。

# 286. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 287. つまり、suffix の開始位置は L+1 以上。

# 288. これを使って計算する。

# 289. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 290. つまり、suffix の開始位置は L+1 以上。

# 291. これを使って計算する。

# 292. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 293. つまり、suffix の開始位置は L+1 以上。

# 294. これを使って計算する。

# 295. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 296. つまり、suffix の開始位置は L+1 以上。

# 297. これを使って計算する。

# 298. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 299. つまり、suffix の開始位置は L+1 以上。

# 300. これを使って計算する。

# 301. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 302. つまり、suffix の開始位置は L+1 以上。

# 303. これを使って計算する。

# 304. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 305. つまり、suffix の開始位置は L+1 以上。

# 306. これを使って計算する。

# 307. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 308. つまり、suffix の開始位置は L+1 以上。

# 309. これを使って計算する。

# 310. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 311. つまり、suffix の開始位置は L+1 以上。

# 312. これを使って計算する。

# 313. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 314. つまり、suffix の開始位置は L+1 以上。

# 315. これを使って計算する。

# 316. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 317. つまり、suffix の開始位置は L+1 以上。

# 318. これを使って計算する。

# 319. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 320. つまり、suffix の開始位置は L+1 以上。

# 321. これを使って計算する。

# 322. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 323. つまり、suffix の開始位置は L+1 以上。

# 324. これを使って計算する。

# 325. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 326. つまり、suffix の開始位置は L+1 以上。

# 327. これを使って計算する。

# 328. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 329. つまり、suffix の開始位置は L+1 以上。

# 330. これを使って計算する。

# 331. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 332. つまり、suffix の開始位置は L+1 以上。

# 333. これを使って計算する。

# 334. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 335. つまり、suffix の開始位置は L+1 以上。

# 336. これを使って計算する。

# 337. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 338. つまり、suffix の開始位置は L+1 以上。

# 339. これを使って計算する。

# 340. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 341. つまり、suffix の開始位置は L+1 以上。

# 342. これを使って計算する。

# 343. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 344. つまり、suffix の開始位置は L+1 以上。

# 345. これを使って計算する。

# 346. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 347. つまり、suffix の開始位置は L+1 以上。

# 348. これを使って計算する。

# 349. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 350. つまり、suffix の開始位置は L+1 以上。

# 351. これを使って計算する。

# 352. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 353. つまり、suffix の開始位置は L+1 以上。

# 354. これを使って計算する。

# 355. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 356. つまり、suffix の開始位置は L+1 以上。

# 357. これを使って計算する。

# 358. しかし、R は L 以上なので、
#      R+1 は L+1 以上。

# 359. つまり、suffix の開始位置は L+1 以上。

# 360. これを使って計算する。

# 361. しかし、R は L 以上なので、
#      R+