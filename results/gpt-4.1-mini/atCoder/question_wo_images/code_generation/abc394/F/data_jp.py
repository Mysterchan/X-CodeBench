import sys
sys.setrecursionlimit(10**7)
input = sys.stdin.readline

N = int(input())
edges = [[] for _ in range(N+1)]
for _ in range(N-1):
    a,b = map(int,input().split())
    edges[a].append(b)
    edges[b].append(a)

# アルカンの条件:
# - 無向木
# - すべての頂点の次数が1または4
# - 次数4の頂点が1つ以上存在

# 部分グラフなので、元の木の辺の部分集合で作る木の部分木
# 部分木の頂点の次数は部分木内の辺数に依存する
# 部分木の頂点の次数は部分木内の辺の接続数

# つまり、部分木の各頂点の次数は部分木内の辺の数で決まる

# 目的: 部分木で、頂点の次数が1または4のみ、かつ次数4の頂点が1つ以上存在するものの最大頂点数

# 考察:
# - 部分木なので連結部分木
# - 部分木の次数は部分木内の辺の数で決まる
# - 次数4の頂点が1つ以上ある
# - 次数1の頂点は葉
# - 次数4の頂点は内部ノードで4本の辺を持つ

# つまり、部分木は次数が1か4の木で、次数4の頂点が1つ以上ある木

# 次数4の頂点は内部ノードで4本の辺を持つ
# 次数1の頂点は葉

# したがって、部分木は「次数4の頂点が内部ノードで、葉は次数1の頂点のみ」という木

# さらに、次数2や3の頂点は許されない

# つまり、部分木は「次数4の頂点と次数1の頂点のみからなる木」

# これを満たす部分木を探す

# 重要な点:
# - 部分木の次数は部分木内の辺数で決まる
# - 元の木の頂点の次数は元の木の辺数で決まるが、部分木では辺を選ぶので部分木内の次数は変わる

# したがって、部分木の次数は部分木内の辺の接続数で決まる

# アルゴリズム:
# 部分木の次数は部分木内の辺の数で決まる
# 部分木の次数が1か4のみで、4の頂点が1つ以上ある

# 部分木の次数は部分木内の辺の数で決まるので、
# 部分木の頂点vの次数 = 部分木内でvに接続する辺の数

# 部分木は元の木の部分集合の辺で構成される連結部分木

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の頂点の部分木内の次数は1か4のみ

# これを満たす部分木を探す

# ここで、部分木の次数は部分木内の辺の数で決まるので、
# 部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

# したがって、部分木の次数が1か4のみであることは、
# 部分木内の各頂点の部分木内の辺の数が1か4であること

# つまり、部分木の次数は部分木内の辺の数で決まる

#