import sys
input = sys.stdin.readline

N, P = map(int, input().split())

# 問題の条件を整理すると：
# - Nは偶数
# - 頂点1からの最短距離の偶数個数と奇数個数が等しい
#   → つまり、N頂点のうち、距離偶数の頂点数 = 距離奇数の頂点数 = N/2
# - グラフは連結で単純無向グラフ
# - Mは辺数で、N-1 <= M <= N(N-1)/2
# - 各Mについて条件を満たすグラフの個数をPで割った余りを求める

# 重要なポイント：
# 距離の偶奇が等しい = グラフは二部グラフで、頂点1の属するパートのサイズがN/2であること。
# なぜなら、距離の偶奇は二部グラフのパーティションに対応する。
# つまり、頂点集合を2つの集合に分け、頂点1が属する集合のサイズがN/2である二部グラフであること。

# さらに、グラフは連結である。

# まとめると：
# - 頂点集合を2つの集合に分ける二部グラフ
# - 頂点1が属する集合のサイズがN/2
# - 連結
# - 辺数M

# Nは偶数なので、頂点1の属する集合のサイズがN/2であることは、
# 頂点1の属する集合のサイズ = N/2
# もう一方の集合のサイズ = N/2

# 頂点1は1つの集合に属するので、その集合は頂点1を含むN/2頂点集合。
# もう一方の集合もN/2頂点。

# つまり、頂点集合は2つのサイズN/2の集合に分割されている。

# したがって、条件を満たすグラフは、
# - 頂点集合を2つのサイズN/2の集合に分ける二部グラフ
# - 連結
# - 辺数M

# ここで、頂点1は必ず片方の集合に属するので、
# その集合は固定（頂点1を含む集合）

# つまり、頂点集合は
# A = {頂点1を含むN/2頂点}
# B = 残りのN/2頂点

# これらの集合は固定されている（頂点1が属する集合は固定）

# したがって、条件を満たすグラフは、
# - 頂点集合AとBに分かれた二部グラフ
# - 連結
# - 辺数M

# さらに、二部グラフの辺はAとBの間の辺のみ存在可能（単純無向グラフ）

# Aのサイズ = Bのサイズ = n = N/2

# 全可能な辺数は n*n = (N/2)*(N/2) = N^2/4

# Mは N-1 <= M <= N(N-1)/2 だが、二部グラフの最大辺数は n^2 = N^2/4
# N(N-1)/2 は完全グラフの最大辺数で、二部グラフの最大辺数より大きい場合がある。

# しかし、二部グラフの辺はAとB間のみなので最大辺数は n^2

# したがって、Mの範囲は
# M = N-1,..., N(N-1)/2
# だが、条件を満たすグラフは二部グラフなのでM <= n^2 = N^2/4

# よって、M > n^2 の場合は条件を満たすグラフは0個

# まとめると、
# Mの範囲は N-1 <= M <= n^2 で考え、
# M > n^2 の場合は0

# さらに、連結な二部グラフで辺数Mの個数を求める問題に帰着する。

# 連結な二部グラフの数え上げは難しいが、
# ここで重要なことは、頂点1が属する集合Aのサイズがnで固定されていること。

# つまり、頂点集合はA,Bに分かれている。
# Aは頂点1を含むn頂点
# Bは残りのn頂点

# 辺はAとBの間の辺のみ

# 連結な二部グラフとは、
# - グラフが連結
# - 2部グラフ（自明）

# 連結な二部グラフの辺はA-B間の辺のみ

# 連結性の条件は、
# - グラフの頂点数は2n
# - グラフは連結
# - 辺はA-B間のみ

# 連結な二部グラフの条件は、
# - 各頂点が少なくとも1つの辺を持つこと
# - かつグラフ全体が連結

# ここで、連結な二部グラフの数え上げは、
# - 2部グラフの辺集合はA×Bの部分集合
# - 連結性は、グラフの辺集合がA∪Bの頂点集合を連結にすること

# 連結な二部グラフの数え上げは、
# - 2部グラフの連結性は、辺集合がAとBの両方の頂点をカバーし、
#   かつグラフが連結であること

# ここで、連結な二部グラフの数え上げは、
# - 2部グラフの連結性は、辺集合がAとBの両方の頂点をカバーし、
#   かつグラフが連結であること

# 連結な二部グラフの数え上げは難しいが、
# ここでの問題は、Nが最大30なので、全グラフ数は膨大で直接列挙不可。

# しかし、サンプル出力から推測すると、
# この問題は「連結な二部グラフの辺数Mの個数」を求める問題である。

# さらに、頂点1が属する集合のサイズがN/2であることは固定なので、
# 頂点1が属する集合はAで、Aのサイズはn=N/2

# したがって、問題は
# 「2部グラフの頂点集合A,B（各n頂点）に分け、連結な二部グラフのうち辺数Mの個数を求める」

# ここで、連結な二部グラフの数え上げは、
# - 2部グラフの辺集合はA×Bの部分集合
# - 連結性は、グラフが連結であること

# 2部グラフの連結性は、
# - グラフの頂点集合はA∪B
# - グラフが連結 → どの頂点も他の頂点とパスで繋がっている

# 2部グラフの連結性は、
# - Aの各頂点は少なくとも1つの辺を持つ
# - Bの各頂点は少なくとも1つの辺を持つ
# - かつグラフ全体が連結

# ここで、2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
# - かつグラフが連結であること

# 2部グラフの連結性は、
# - グラフの辺集合がAとBの両方の頂点をカバーし、
#