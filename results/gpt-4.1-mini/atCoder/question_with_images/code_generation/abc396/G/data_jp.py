import sys
input = sys.stdin.readline

H, W = map(int, input().split())
rows = [int(input().strip(), 2) for _ in range(H)]

# 操作Xは行の反転、操作Yは列の反転
# 操作Xは各行ごとに独立して行えるので、まず行の反転を自由に行い、
# その後列の反転を行うことを考える。
# 行の反転は各行を反転するかしないかの選択であり、
# 反転した行はビットを反転した値になる。
# ここで、列の反転は全体に対して行うので、
# まず行の反転を決めた後、列ごとに1の数を数え、
# その列の1の数と0の数のうち小さい方を選んで列を反転するか決める。

# 重要なことは、行の反転は各行独立に決められるので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転は各行を反転するかしないかの2択。
# しかしHは最大2*10^5で全探索は不可能。
# Wは最大18なので、行のパターンは最大2^W通り。
# 行のパターンごとに行の反転を決めると、
# 反転後の行は元の行か反転した行のどちらかになる。

# したがって、行の反転の選択は、
# 各行を元のまま使うか反転して使うかの選択。
# これを行のパターンとして考えると、
# 行の反転の選択は各行のパターンを0か1に変えることに等しい。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、
# 行の反転の選択によって列の1の数が変わる。

# ここで、行の反転の選択は各行独立なので、
# 各行を反転するかしないかで最終的な列の1の数が変わる。
# しかし、列の反転は全体に対して行うので、