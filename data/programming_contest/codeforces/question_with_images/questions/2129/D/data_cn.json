{
    "Title": "Codeforces Round 1040 (Div. 1)",
    "Source": "codeforces",
    "Name": "Permutation Blackhole",
    "Time Limit": "3 s",
    "Memory Limit": "512 mb",
    "Problem Statement": "對於長度為 $n$ 的排列 $p_1, p_2, ..., p_n$，對應的著色序列 $s$ 可以通過以下著色過程獲得： \n- 最初，有 $n$ 個白色單元格，從左到右依次編號為 $1$ 到 $n$。在第 $0$ 秒時，每個單元格的分數為 $0$。 \n- 在第 $i$ 秒 ($1 ≤ i ≤ n$) 時， \n  - 如果 $i > 1$，則找到單元格 $p_i$ 最近的黑色單元格，並將該單元格的分數增加 $1$。如果有多個最近的黑色單元格，則選擇索引最小的單元格。單元格 $y$ 唯有在其為黑色且不存在黑色單元格 $z$ 滿足 $|x-z|<|x-y|$ 時，才稱 $y$ 為單元格 $x$ 的最近黑色單元格。 \n  - 將單元格 $p_i$ 顏色標記為黑色。  \n在所有單元格都標記為黑色後，令 $s_i$ 為單元格 $i$ 的分數 ($1 ≤ i ≤ n$)，我們便得到了著色序列 $s$。 \n你可能想閱讀附註以便更好地理解。 \n給定一個不完整的著色序列 $s$，其中一些 $s_i$ 已經固定，而其他的尚未確定。計算有多少不同的排列 $p$ 可以產生這個著色序列。由於答案可能很大，您需要將其結果取模 $998\\,244\\,353$。",
    "Statement Images": [],
    "Constraints": "Time limit: 3 s\nMemory limit: 512 mb",
    "IO Styles": "輸入\n每個測試包含多個測試案例。第一行包含測試案例的數量 $t$ ($1 ≤ t ≤ 10^3$)。接下來是測試案例的描述。\n對於每個測試案例，第一行包含一個整數 $n$ ($2 ≤ n ≤ 100$)。\n第二行包含 $n$ 個整數 $s_1, s_2, ..., s_n$ ($-1 ≤ s_i ≤ n-1$)。這裡，$s_i=-1$ 表示 $s_i$ 尚未確定。而 $s_i \\neq -1$ 表示 $s_i$ 已經固定。\n保證所有測試案例中 $n^2$ 的總和不超過 $10^4$。\n輸出\n對於每個測試案例，輸出可以產生著色序列的不同排列 $p_1, p_2, ..., p_n$ 的總數，取模 $998\\,244\\,353$。",
    "Sample Detail": [
        {
            "input": "9\n3\n-1 -1 1\n3\n-1 -1 -1\n4\n-1 2 -1 0\n4\n-1 0 1 -1\n5\n-1 3 -1 0 -1\n5\n4 4 4 4 4\n5\n1 0 1 2 0\n6\n-1 1 -1 -1 3 0\n13\n-1 -1 -1 -1 -1 -1 2 -1 -1 -1 -1 -1 -1",
            "output": "2\n6\n4\n3\n8\n0\n4\n10\n867303072",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "備註\n在第一個測試案例中，$p=[3,1,2]$ 和 $p=[3,2,1]$ 可以產生著色序列 $s=[-1,-1,1]$。\n對於 $p=[3,1,2]$，著色過程如下圖所示。 ![image](1.png)![image](2.png)![image](3.png)![image](4.png) 當 $p=[3,1,2]$ 時，格子在第 $0$、$1$、$2$ 和 $3$ 秒的狀況分別為。\n對於 $p=[3,2,1]$，著色過程如下圖所示。 ![image](5.png)![image](6.png)![image](7.png)![image](8.png) 當 $p=[3,2,1]$ 時，格子在第 $0$、$1$、$2$ 和 $3$ 秒的狀況分別為。",
    "Note Images": [
        "https://espresso.codeforces.com/26efaccea13cb1b0cea714b08dfdc0ac71a96b85.png",
        "https://espresso.codeforces.com/bdd07d7a497ef2e639ca122e46586048c77853ac.png",
        "https://espresso.codeforces.com/e7cbbc909a8c1f66e77eb10a021d79bae4673c82.png",
        "https://espresso.codeforces.com/059ff6b5a11674aa3a45d3fed2d15884b5d57da4.png",
        "https://espresso.codeforces.com/26efaccea13cb1b0cea714b08dfdc0ac71a96b85.png",
        "https://espresso.codeforces.com/bdd07d7a497ef2e639ca122e46586048c77853ac.png",
        "https://espresso.codeforces.com/552c55326775e1fa2bf69f0e4d8a046c6d3abea9.png",
        "https://espresso.codeforces.com/c8295c674ce2876ecbb6926a02ba211fdcdfe904.png"
    ],
    "Language": "cn"
}