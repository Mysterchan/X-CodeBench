{
    "Title": "Specific Tasks",
    "Source": "codeforces",
    "Name": "E",
    "Time Limit": "unknown",
    "Memory Limit": "unknown",
    "Problem Statement": "Для массива $b$ длины $m$ определим $f(b)$ следующим образом.\nРассмотрим ленту размером $1 \\times m$, где все ячейки изначально имеют темноту $0$. Вы хотите преобразовать ее в ленту, где цвет в $i$-й позиции имеет темноту $b_i$. Вы можете выполнять следующую операцию, состоящую из двух шагов:- Согните бумагу по любой границе между двумя ячейками. Вы можете сгибать сколько угодно раз или вообще не сгибать.- Выберите одну позицию, чтобы капнуть черную краску. Краска проникает сверху и течет вниз, увеличивая темноту всех ячеек на своем пути на $1$. После того как вы капнули краску, вы разворачиваете ленту.\nПусть $f(b)$ будет минимальным количеством операций, необходимых для достижения желаемой конфигурации. Можно доказать, что цель всегда может быть достигнута за конечное число операций.\nВам дан массив $a$ длины $n$. Найдите\n$\\sum_{l=1}^n\\sum_{r=l}^n f(a_l a_{l+1} ... a_r)$\nпо модулю $998\\,244\\,353$.",
    "Statement Images": [],
    "Constraints": "Time limit: unknown\nMemory limit: unknown",
    "IO Styles": "Входные данные\nКаждый тест состоит из нескольких наборов входных данных. В первой строке находится одно целое число $t$ ($1 ≤ t ≤ 10^4$) — количество наборов входных данных. Далее следует описание наборов входных данных. \nПервая строка каждого набора входных данных содержит одно целое число $n$ ($1 ≤ n ≤ 2 \\cdot 10^5$) — длина массива $a$.\nВторая строка содержит $n$ целых чисел $a_1, a_2, ..., a_n$ ($0 ≤ a_i ≤ 10^9$) — массив $a$.\nГарантируется, что сумма $n$ по всем наборам входных данных не превосходит $2 \\cdot 10^5$.\nВыходные данные\nДля каждого набора входных данных выведите одно целое число — искомую сумму по модулю $998\\,244\\,353$.",
    "Sample Detail": [
        {
            "input": "4\n3\n0 1 0\n6\n1 0 0 1 2 1\n5\n2 1 2 4 3\n12\n76 55 12 32 11 45 9 63 88 83 32 6",
            "output": "4\n28\n47\n7001",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "Примечание\nВ первом наборе входных данных,  - $f(a_1)=f(\\mathtt{0})=0$ - $f(a_1a_2)=f(\\mathtt{01})=1$ - $f(a_1a_2a_3)=f(\\mathtt{010})=1$ - $f(a_2)=f(\\mathtt{1})=1$ - $f(a_2a_3)=f(\\mathtt{10})=1$ - $f(a_3)=f(\\mathtt{0})=0$ \nЭто в сумме дает $0+1+1+1+1+0 = 4$\nВо втором наборе входных данных, $f(a_1a_2a_3a_4a_5a_6) = 2$. Вот одна возможная последовательность операций. ![image](1.png)",
    "Note Images": [
        "https://espresso.codeforces.com/7e858937391c04751be3558a4470a2f30d2bd683.png"
    ],
    "Language": "ru"
}