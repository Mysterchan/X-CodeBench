{
    "Title": "Codeforces Round 1008 (Div. 1)",
    "Source": "codeforces",
    "Name": "Another Folding Strip",
    "Time Limit": "2 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "For an array $b$ of length $m$, define $f(b)$ as follows.\nConsider a $1 \\times m$ strip, where all cells initially have darkness $0$. You want to transform it into a strip where the color at the $i$-th position has darkness $b_i$. You can perform the following operation, which consists of two steps:- Fold the paper at any line between two cells. You may fold as many times as you like, or choose not to fold at all.- Choose one position to drop the black dye. The dye permeates from the top and flows down to the bottom, increasing the darkness of all cells in its path by $1$. After dropping the dye, you unfold the strip.\nLet $f(b)$ be the minimum number of operations required to achieve the desired configuration. It can be proven that the goal can always be achieved in a finite number of operations.\nYou are given an array $a$ of length $n$. Evaluate\n$\\sum_{l=1}^n\\sum_{r=l}^n f(a_l a_{l+1} ... a_r)$\nmodulo $998\\,244\\,353$.",
    "Statement Images": [],
    "Constraints": "Time limit: 2 s\nMemory limit: 256 mb",
    "IO Styles": "Input\nEach test contains multiple test cases. The first line contains the number of test cases $t$ ($1 ≤ t ≤ 10^4$). The description of the test cases follows. \nThe first line of each test case contains a single integer $n$ ($1 ≤ n ≤ 2 \\cdot 10^5$) — the length of the array $a$.\nThe second line contains $n$ integers $a_1, a_2, ..., a_n$ ($0 ≤ a_i ≤ 10^9$) — denoting the array $a$.\nIt is guaranteed that the sum of all values of $n$ across all test cases does not exceed $2 \\cdot 10^5$.\nOutput\nFor each test case, output a single integer — the required sum modulo $998\\,244\\,353$.",
    "Sample Detail": [
        {
            "input": "4\n3\n0 1 0\n6\n1 0 0 1 2 1\n5\n2 1 2 4 3\n12\n76 55 12 32 11 45 9 63 88 83 32 6",
            "output": "4\n28\n47\n7001",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "Note\nIn the first test case,  - $f(a_1)=f(\\mathtt{0})=0$ - $f(a_1a_2)=f(\\mathtt{01})=1$ - $f(a_1a_2a_3)=f(\\mathtt{010})=1$ - $f(a_2)=f(\\mathtt{1})=1$ - $f(a_2a_3)=f(\\mathtt{10})=1$ - $f(a_3)=f(\\mathtt{0})=0$ \nThis sums up to $0+1+1+1+1+0 = 4$\nIn the second test case, $f(a_1a_2a_3a_4a_5a_6) = 2$. Here's one possible sequence of operations. ![image](1.png)",
    "Note Images": [
        "https://espresso.codeforces.com/7e858937391c04751be3558a4470a2f30d2bd683.png"
    ],
    "Language": "en"
}