{
    "Title": "Codeforces Round 1008 (Div. 1)",
    "Source": "codeforces",
    "Name": "Another Folding Strip",
    "Time Limit": "2 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "對於長度為 $m$ 的數組 $b$，定義 $f(b)$ 如下：\n考慮一個 $1 \\times m$ 的條帶，其中所有單元格最初的黑暗度為 $0$。你想將其轉變為一個條帶，使得第 $i$ 個位置的黑暗度為 $b_i$。你可以執行以下操作，該操作包含兩個步驟：\n- 在任意兩個單元格之間的線上摺疊紙張。你可以任意次摺疊，或者選擇不摺疊。\n- 選擇一個位置來放置黑色染料。染料從上方滲透並向下流動，將其路徑上的所有單元格的黑暗度增加 $1$。放置染料後，你將條帶展開。\n\n令 $f(b)$ 為達到所需配置所需的最小操作次數。可以證明，這個目標總是可以在有限次操作內實現。\n給定一個長度為 $n$ 的數組 $a$。計算\n$$\\sum_{l=1}^n\\sum_{r=l}^n f(a_l a_{l+1} ... a_r)$$\n取模 $998\\,244\\,353$。",
    "Statement Images": [],
    "Constraints": "Time limit: 2 s\nMemory limit: 256 mb",
    "IO Styles": "輸入  \n每個測試包含多個測試案例。第一行包含測試案例的數量 $t$ ($1 \\leq t \\leq 10^4$)。隨後是測試案例的描述。  \n每個測試案例的第一行包含一個整數 $n$ ($1 \\leq n \\leq 2 \\cdot 10^5$) — 陣列 $a$ 的長度。  \n第二行包含 $n$ 個整數 $a_1, a_2, \\ldots, a_n$ ($0 \\leq a_i \\leq 10^9$) — 表示陣列 $a$。  \n可以保證所有測試案例中 $n$ 的總和不會超過 $2 \\cdot 10^5$。  \n輸出  \n對於每個測試案例，輸出一個整數 — 所需的和模 $998\\,244\\,353$。",
    "Sample Detail": [
        {
            "input": "4\n3\n0 1 0\n6\n1 0 0 1 2 1\n5\n2 1 2 4 3\n12\n76 55 12 32 11 45 9 63 88 83 32 6",
            "output": "4\n28\n47\n7001",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n在第一個測試案例中， - $f(a_1)=f(\\mathtt{0})=0$ - $f(a_1a_2)=f(\\mathtt{01})=1$ - $f(a_1a_2a_3)=f(\\mathtt{010})=1$ - $f(a_2)=f(\\mathtt{1})=1$ - $f(a_2a_3)=f(\\mathtt{10})=1$ - $f(a_3)=f(\\mathtt{0})=0$ \n這加起來為 $0+1+1+1+1+0 = 4$\n在第二個測試案例中，$f(a_1a_2a_3a_4a_5a_6) = 2$。這裡有一種可能的操作序列。 ![image](1.png)",
    "Note Images": [
        "https://espresso.codeforces.com/7e858937391c04751be3558a4470a2f30d2bd683.png"
    ],
    "Language": "cn"
}