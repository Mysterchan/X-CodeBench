{
    "Title": "Codeforces Round 1035 (Div. 2)",
    "Source": "codeforces",
    "Name": "Volcanic Eruptions",
    "Time Limit": "3 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "有一棵以 $1$ 為根的無向樹，每個頂點都有一個權重 $w_i\\in\\{1,-1\\}$。 \n在時間 $0$ 時，根部的火山噴發。在時間 $t$ 時，熔岩會淹沒所有距離根部至多為 $t$ 的頂點，其中距離是指兩個頂點之間最短路徑上的邊數。 \n在時間 $0$ 時，你位於頂點 $st$，生命值 $S$，初始為 $S=1$。從時間 $0$ 開始（包括時間 $0$），在每個時間戳上依次發生以下事件： \n- 令 $u$ 為你當前所處的頂點。你的生命值增加 $w_u$，即 $S≥ts S+w_u$。\n- 如果 $S=0$ 或者如果頂點 $u$ 此時被熔岩淹沒，你將立即死亡。 \n- 你必須移動到相鄰的頂點（包括父節點和子節點；不允許停留在原地）。你在下一個時間戳到達所選擇的頂點。\n找出你能在死亡之前最多能移動多少次。",
    "Statement Images": [],
    "Constraints": "Time limit: 3 s\nMemory limit: 256 mb",
    "IO Styles": "輸入\n每個測試包含多個測試案例。第一行包含測試案例的數量 $T$ ($1 ≤ T ≤ 10^4$)。接下來是測試案例的描述。\n對於每個測試案例，第一行包含兩個整數 $n,st$ ($2 ≤ st ≤ n ≤ 5\\cdot 10^5$)，表示頂點的數量和在時間戳 $0$ 時你開始的頂點。\n第二行包含 $n$ 個整數 $w_1, w_2, ..., w_n$ ($w_i\\in\\{1,-1\\}$,$w_{st}=1$)，其中 $w_i$ 代表頂點 $i$ 的權重。\n接下來的 $n-1$ 行每行包含兩個整數 $u,v$ ($1≤ u,v ≤ n$)，這描述了一對由邊連接的頂點。\n可以保證所給的圖是一棵樹，並且所有測試案例中 $n$ 的總和不超過 $10^6$。\n輸出\n對於每個測試案例，輸出一行整數，表示你可以進行的最大移動次數。",
    "Sample Detail": [
        {
            "input": "6\n7 4\n-1 -1 -1 1 1 1 -1\n2 1\n3 2\n4 3\n5 4\n6 5\n7 6\n8 2\n-1 1 1 1 1 -1 1 1\n2 1\n6 2\n8 6\n3 8\n7 3\n5 7\n4 5\n8 2\n-1 1 -1 -1 -1 1 -1 -1\n2 1\n8 2\n4 1\n5 4\n3 4\n7 2\n6 8\n8 4\n1 1 1 1 1 -1 1 -1\n8 1\n3 1\n4 3\n5 4\n6 4\n7 6\n2 5\n8 4\n1 1 1 1 -1 -1 1 1\n2 1\n5 1\n4 5\n8 5\n3 8\n7 2\n6 2\n18 10\n-1 -1 -1 -1 -1 -1 -1 -1 -1 1 -1 1 1 -1 1 1 1 1\n1 2\n2 3\n3 4\n4 5\n5 6\n6 7\n7 8\n8 9\n9 10\n10 11\n11 12\n12 13\n9 14\n14 15\n15 16\n16 17\n17 18",
            "output": "6\n7\n3\n3\n1\n13",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n這裡有一張顯示第一個測試案例中的樹的圖片。 ![image](1.png) 第一次測試案例。\n其中一個最佳的移動序列是 $4\\to3\\to4\\to5\\to6\\to7\\to6$，總共進行了 $6$ 次移動。$S$ 的變化是 $2\\to1\\to2\\to3\\to4\\to3\\to4$。更具體地說：\n- 在時間 $0$，生命值 $S$ 變成 $2$，我們從頂點 $4$ 移動到頂點 $3$。\n- 在時間 $1$，生命值 $S$ 變成 $1$，我們從頂點 $3$ 移動到頂點 $4$。\n- 在時間 $2$，生命值 $S$ 變成 $2$，我們從頂點 $4$ 移動到頂點 $5$。\n- 在時間 $3$，生命值 $S$ 變成 $3$，我們從頂點 $5$ 移動到頂點 $6$。\n- 在時間 $4$，生命值 $S$ 變成 $4$，我們從頂點 $6$ 移動到頂點 $7$。\n- 在時間 $5$，生命值 $S$ 變成 $3$。從頂點 $7$ 到根的距離是 $6$，這意味著頂點 $7$ 尚未被熔岩淹沒。我們從頂點 $7$ 移動到頂點 $6$。\n- 在時間 $6$，生命值 $S$ 變成 $4$，但從頂點 $6$ 到根的距離是 $5$，這意味著頂點 $6$ 已經被熔岩淹沒。",
    "Note Images": [
        "https://espresso.codeforces.com/8d0ad4dc59ccfdf46be697d0e6f4e30a45873a2a.png"
    ],
    "Language": "cn"
}