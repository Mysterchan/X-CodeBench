{
    "Title": "Codeforces Round 1009 (Div. 3)",
    "Source": "codeforces",
    "Name": "Game With Triangles: Season 2",
    "Time Limit": "4 s",
    "Memory Limit": "512 mb",
    "Problem Statement": "前線指揮官歡迎你來到生存遊戲的最後一輪。  \n有一個正多邊形，邊數為 $n$（$n ≥ 3$）。頂點按順時針方向編號為 $1,2,...,n$。在每個頂點 $i$ 上，粉紅色士兵寫下了一個正整數 $a_i$。你將在這個正多邊形上進行一個定義如下的遊戲。  \n最初，你的得分為 $0$。然後，你可以任意次執行以下操作來增加你的得分。  \n- 選擇 $3$ 個不同的頂點 $i, j, k$，這些頂點之前未被選擇過，並畫出由這三個頂點形成的三角形。  \n- 然後，你的得分增加 $a_i \\cdot a_j \\cdot a_k$。  \n- 然而，如果該三角形與之前畫過的任何三角形共享一個正的公共面積，你就不能執行此操作。  \n![image](1.png) 在左側是兩次操作後的一個狀態示例。右側的狀態是不可能的，因為這兩個三角形共享一個正的公共面積。  \n你的目標是最大化得分。請找出你從這個遊戲中可以獲得的最高得分。",
    "Statement Images": [
        "https://espresso.codeforces.com/a42279876f5187f53a850aa26d9dc169ef2979c8.png"
    ],
    "Constraints": "Time limit: 4 s\nMemory limit: 512 mb",
    "IO Styles": "輸入\n每個測試包含多個測試案例。第一行包含測試案例的數量 $t$ ($1 ≤ t ≤ 10^4$)。接下來是測試案例的描述。\n每個測試案例的第一行包含一個整數 $n$ — 頂點的數量 ($3 ≤ n ≤ 400$)。\n每個測試案例的第二行包含 $a_1,a_2,...,a_n$ — 寫在頂點上的整數 ($1 ≤ a_i ≤ 1000$)。\n保證所有測試案例的 $n^3$ 總和不超過 $400^3$。\n輸出\n對於每個測試案例，在單獨的一行上輸出您可以獲得的最大分數。",
    "Sample Detail": [
        {
            "input": "6\n3\n1 2 3\n4\n2 1 3 4\n6\n2 1 2 1 1 1\n6\n1 2 1 3 1 5\n9\n9 9 8 2 4 4 3 5 3\n9\n9 9 3 2 4 4 8 5 3",
            "output": "6\n24\n5\n30\n732\n696",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n在第一個測試案例中，您只能畫一個三角形。最大得分 $6$ 是通過畫出三角形 $i=1$, $j=2$, $k=3$ 獲得的。\n在第二個測試案例中，您只能畫一個三角形。最大得分 $24$ 是通過畫出三角形 $i=1$, $j=3$, $k=4$ 獲得的。\n在第三個測試案例中，您可以畫兩個三角形。有一系列的兩次操作導致得分 $5$，這是最大值。\n在第四個測試案例中，您可以畫兩個三角形。然而，畫兩個三角形導致的得分是 $6+5=11$、$15+2=17$，或 $10+3=13$。最大得分 $30$ 是通過僅畫一個三角形 $i=2$, $j=4$, $k=6$ 獲得的。\n在第五個測試案例中，您可以畫三個三角形。最大得分 $732$ 是通過如下畫出三個三角形獲得的。 ![image](2.png)",
    "Note Images": [
        "https://espresso.codeforces.com/fbd1a7c617c9886311a98f0331659515950d5638.png"
    ],
    "Language": "cn"
}