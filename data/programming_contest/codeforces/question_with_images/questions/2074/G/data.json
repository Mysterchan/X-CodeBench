{
    "Title": "Codeforces Round 1009 (Div. 3)",
    "Source": "codeforces",
    "Name": "Game With Triangles: Season 2",
    "Time Limit": "4 s",
    "Memory Limit": "512 mb",
    "Problem Statement": "The Frontman greets you to this final round of the survival game. \nThere is a regular polygon with $n$ sides ($n ≥ 3$). The vertices are indexed as $1,2,...,n$ in clockwise order. On each vertex $i$, the pink soldiers have written a positive integer $a_i$. With this regular polygon, you will play a game defined as follows.\nInitially, your score is $0$. Then, you perform the following operation any number of times to increase your score. - Select $3$ different vertices $i$, $j$, $k$ that you have not chosen before, and draw the triangle formed by the three vertices.  - Then, your score increases by $a_i \\cdot a_j \\cdot a_k$. - However, you can not perform this operation if the triangle shares a positive common area with any of the triangles drawn previously.   ![image](1.png) An example of a state after two operations is on the left. The state on the right is impossible as the two triangles share a positive common area. \nYour objective is to maximize the score. Please find the maximum score you can get from this game.",
    "Statement Images": [
        "https://espresso.codeforces.com/a42279876f5187f53a850aa26d9dc169ef2979c8.png"
    ],
    "Constraints": "Time limit: 4 s\nMemory limit: 512 mb",
    "IO Styles": "Input\nEach test contains multiple test cases. The first line contains the number of test cases $t$ ($1 ≤ t ≤ 10^4$). The description of the test cases follows. \nThe first line of each test case contains a single integer $n$ — the number of vertices ($3 ≤ n ≤ 400$).\nThe second line of each test case contains $a_1,a_2,...,a_n$ — the integers written on vertices ($1 ≤ a_i ≤ 1000$).\nIt is guaranteed that the sum of $n^3$ over all test cases does not exceed $400^3$.\nOutput\nFor each test case, output the maximum score you can get on a separate line.",
    "Sample Detail": [
        {
            "input": "6\n3\n1 2 3\n4\n2 1 3 4\n6\n2 1 2 1 1 1\n6\n1 2 1 3 1 5\n9\n9 9 8 2 4 4 3 5 3\n9\n9 9 3 2 4 4 8 5 3",
            "output": "6\n24\n5\n30\n732\n696",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "Note\nOn the first test case, you can draw only one triangle. The maximum score $6$ is found by drawing the triangle with $i=1$, $j=2$, $k=3$.\nOn the second test case, you can draw only one triangle. The maximum score $24$ is found by drawing the triangle with $i=1$, $j=3$, $k=4$.\nOn the third test case, you can draw two triangles. There is a series of two operations that leads to the score $5$, which is the maximum.\nOn the fourth test case, you can draw two triangles. However, drawing two triangles leads to a score of either $6+5=11$, $15+2=17$, or $10+3=13$. The maximum score $30$ is found by drawing only one triangle with $i=2$, $j=4$, $k=6$.\nOn the fifth test case, you can draw three triangles. The maximum score $732$ is found by drawing three triangles as follows. ![image](2.png)",
    "Note Images": [
        "https://espresso.codeforces.com/fbd1a7c617c9886311a98f0331659515950d5638.png"
    ],
    "Language": "en"
}