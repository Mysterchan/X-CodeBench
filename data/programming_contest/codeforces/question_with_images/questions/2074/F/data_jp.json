{
    "Title": "Codeforces Round 1009 (Div. 3)",
    "Source": "codeforces",
    "Name": "Counting Necessary Nodes",
    "Time Limit": "2 s",
    "Memory Limit": "512 mb",
    "Problem Statement": "クワッドツリーは、各ノードが最大で4つの子を持ち、正方形の領域を表す木構造です。形式的には、非負整数の組 $(k,a,b) \\geq 0$ に対して、次の領域を表すノードが正確に1つ存在します$^{\\text{∗}}$。\n$[a \\cdot 2^k,(a+1) \\cdot 2^k] \\times [b \\cdot 2^k,(b+1) \\cdot 2^k]$\n領域が $1 \\times 1$ より大きいすべてのノードは、4つの等しい領域に分割された4つの子を持ち、領域が $1 \\times 1$ のノードは木の葉ノードに対応します。![image](1.png) ここに示されているのは、ノードが表す領域の小さなサブセットです。相対的に暗い領域は、葉ノードに近いことを示します。\n\nフロントマンは、領域内に $n$ 個の葉ノードがある場合に、クワッドツリーが $\\mathcal{O}(\\log n)$ 時間で範囲クエリを実行できるという広く蔓延している誤解を嫌っています。実際、この目的のためには、時には $\\mathcal{O}(\\log n)$ よりも多くの領域をクエリする必要があり、極端な場合には時間複雑度が $\\mathcal{O}(n)$ になることもあります。したがって、フロントマンはこのデータ構造の最悪の場合についてあなたに教育するために、このタスクを考案しました。\n\nピンクの兵士たちは、有限の領域 $[l_1,r_1] \\times [l_2,r_2]$ を与えました。ここで、$l_i$ と $r_i$ ($l_i < r_i$) は非負整数です。選択したノードによって表される領域の和集合が与えられた領域と正確に同じになるように、選ばなければならないノードの最小数を見つけてください。ここで、1つの集合に含まれる点が他の集合に含まれない場合、2つの点集合は異なると見なされます。\n$^{\\text{∗}}$領域は実数座標を持つ点の集合であり、点 $(x,y)$ が領域 $[p,q] \\times [r,s]$ に含まれるのは、$p ≤ x ≤ q$ および $r ≤ y ≤ s$ の場合に限ります。ここで、$\\times$ は集合のデカルト積を正式に指します。",
    "Statement Images": [
        "https://espresso.codeforces.com/2089e84fdc9aae88cc2e4f279fd2d4c70a67f153.png"
    ],
    "Constraints": "Time limit: 2 s\nMemory limit: 512 mb",
    "IO Styles": "入力\n各テストは複数のテストケースを含む。最初の行にはテストケースの数 $t$ ($1 ≤ t ≤ 10^4$) が含まれる。テストケースの説明が続く。\n各テストケースの唯一の行には、4つの整数 $l_1$, $r_1$, $l_2$, $r_2$ が含まれ、各軸の領域の境界を示す ($0 ≤ l_i < r_i ≤ 10^6$)。\n出力\n各テストケースについて、条件を満たすために必要な最小のノード数を別の行に出力せよ。",
    "Sample Detail": [
        {
            "input": "5\n0 1 1 2\n0 2 0 2\n1 3 1 3\n0 2 1 5\n9 98 244 353",
            "output": "1\n1\n4\n5\n374",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n最初のテストケースでは、与えられた領域は $[0,1] \\times [1,2]$ です。この領域をカバーするノードが1つあります。このノードを選択すると、答えは $1$ になります。\n2番目のテストケースでは、与えられた領域は $[0,2] \\times [0,2]$ です。この領域をカバーするノードが1つあります。このノードを選択すると、答えは $1$ になります。\n3番目のテストケースでは、与えられた領域は $[1,3] \\times [1,3]$ です。この領域をカバーするノードはありません。その代わりに、以下の4つのノードを選択することで、領域の和がちょうど $[1,3] \\times [1,3]$ になるようにすることができます： - 領域 $[1,2] \\times [1,2]$ をカバーする葉ノード; - 領域 $[1,2] \\times [2,3]$ をカバーする葉ノード; - 領域 $[2,3] \\times [1,2]$ をカバーする葉ノード; - 領域 $[2,3] \\times [2,3]$ をカバーする葉ノード。 \n4つのノード未満で領域の和を $[1,3] \\times [1,3]$ にすることは不可能であることが示されています。したがって、答えは $4$ です。\n4番目のテストケースでは、与えられた領域は $[0,2] \\times [1,5]$ です。以下の5つのノードを選ぶことで、領域の和がちょうど $[0,2] \\times [1,5]$ になるようにすることができます： - 領域 $[0,1] \\times [1,2]$ をカバーする葉ノード; - 領域 $[1,2] \\times [1,2]$ をカバーする葉ノード; - 領域 $[0,2] \\times [2,4]$ をカバーする非葉ノード; - 領域 $[0,1] \\times [4,5]$ をカバーする葉ノード; - 領域 $[1,2] \\times [4,5]$ をカバーする葉ノード。 \n5つのノード未満で領域の和を $[0,2] \\times [1,5]$ にすることは不可能であることが示されています。したがって、答えは $5$ です。",
    "Note Images": [],
    "Language": "jp"
}