{
    "Title": "Educational Codeforces Round 175 (Rated for Div. 2)",
    "Source": "codeforces",
    "Name": "Tree Jumps",
    "Time Limit": "2 s",
    "Memory Limit": "512 mb",
    "Problem Statement": "你有一棵根樹，由 $n$ 個節點組成。樹中的節點編號從 $1$ 到 $n$，根節點是節點 $1$。令 $d_x$ 為從根節點到節點 $x$ 的距離（最短路徑上的邊數）。\n有一個棋子最初放置在根節點。你可以隨意次數（可能是零次）執行以下操作：- 將棋子從當前節點 $v$ 移動到一個節點 $u$，使得 $d_u = d_v + 1$。如果 $v$ 是根節點，你可以選擇任何滿足此條件的節點 $u$；但是，如果 $v$ 不是根節點，則 $u$ 不應該是 $v$ 的鄰居（即 $v$ 和 $u$ 之間不應有邊相連）。 ![image](1.png) \n例如，在上面的樹中，以下棋子移動是可能的：$1 \\rightarrow 2$，$1 \\rightarrow 5$，$2 \\rightarrow 7$，$5 \\rightarrow 3$，$5 \\rightarrow 4$，$3 \\rightarrow 6$，$7 \\rightarrow 6$。\n如果你可以以這種方式移動棋子，依次訪問序列中的所有節點（且僅訪問這些節點），則節點序列是有效的。\n你的任務是計算有效節點序列的數量。由於答案可能很大，請將其模 $998244353$ 輸出。",
    "Statement Images": [
        "https://espresso.codeforces.com/a7d174838967f0e86ed147de172773441c0044e7.png"
    ],
    "Constraints": "中文: 時間限制：2 秒  \n記憶體限制：512 MB",
    "IO Styles": "輸入\n第一行包含一個整數 $t$ ($1 ≤ t ≤ 10^4$) — 測試案例的數量。\n每個測試案例的第一行包含一個整數 $n$ ($2 ≤ n ≤ 3 \\cdot 10^5$)。\n第二行包含 $n-1$ 個整數 $p_2, p_3, \\dots, p_n$ ($1 ≤ p_i < i$)，其中 $p_i$ 是樹中第 $i$ 個頂點的父節點。頂點 $1$ 是根節點。\n額外的輸入限制：所有測試案例的 $n$ 之和不超過 $3 \\cdot 10^5$。\n輸出\n對於每個測試案例，輸出一個整數 — 有效頂點序列的數量，取模 $998244353$。",
    "Sample Detail": [
        {
            "input": "3\n4\n1 2 1\n3\n1 2\n7\n1 2 2 1 4 5",
            "output": "4\n2\n8",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n在第一個範例中，以下序列是有效的：$[1]$、$[1, 2]$、$[1, 4]$、$[1, 4, 3]$。\n在第二個範例中，以下序列是有效的：$[1]$、$[1, 2]$。\n在第三個範例中，以下序列是有效的：$[1]$、$[1, 2]$、$[1, 2, 7]$、$[1, 2, 7, 6]$、$[1, 5]$、$[1, 5, 3]$、$[1, 5, 3, 6]$、$[1, 5, 4]$。",
    "Note Images": [],
    "Language": "cn"
}