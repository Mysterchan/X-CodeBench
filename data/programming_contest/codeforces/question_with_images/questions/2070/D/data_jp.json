{
    "Title": "Educational Codeforces Round 175 (Rated for Div. 2)",
    "Source": "codeforces",
    "Name": "Tree Jumps",
    "Time Limit": "2 s",
    "Memory Limit": "512 mb",
    "Problem Statement": "根付き木が与えられます。木の頂点は$n$個あり、頂点は$1$から$n$まで番号付けされています。根は頂点$1$です。$d_x$を根から頂点$x$までの距離（最短パス上の辺の数）とします。\n初めにチップは根に置かれています。以下の操作を好きな回数（ゼロ回でも可能）行うことができます： - 現在の頂点$v$から頂点$u$にチップを移動します。ただし、$d_u = d_v + 1$である必要があります。もし$v$が根であれば、任意の頂点$u$を選ぶことができます。しかし、$v$が根でない場合、$u$は$v$の隣接頂点であってはいけません（$v$と$u$を結ぶ辺が存在しない必要があります）。 ![image](1.png) \n例えば、上の木では次のようなチップ移動が可能です：$1 \\rightarrow 2$、$1 \\rightarrow 5$、$2 \\rightarrow 7$、$5 \\rightarrow 3$、$5 \\rightarrow 4$、$3 \\rightarrow 6$、$7 \\rightarrow 6$。\n頂点の列は、与えられた順序でその列の全ての頂点を訪れるようにチップを移動できる場合、有効とみなされます。\nあなたの仕事は、有効な頂点列の数を計算することです。答えが大きくなる可能性があるため、$998244353$で割った余りを出力してください。",
    "Statement Images": [
        "https://espresso.codeforces.com/a7d174838967f0e86ed147de172773441c0044e7.png"
    ],
    "Constraints": "Time limit: 2 s\nMemory limit: 512 mb",
    "IO Styles": "入力\n最初の行には単一の整数 $t$ ($1 ≤ t ≤ 10^4$) が含まれており、これはテストケースの数を表します。\n各テストケースの最初の行には単一の整数 $n$ ($2 ≤ n ≤ 3 \\cdot 10^5$) が含まれています。\n2行目には $n-1$ 個の整数 $p_2, p_3, \\dots, p_n$ ($1 ≤ p_i < i$) が含まれており、ここで $p_i$ は木の $i$ 番目の頂点の親です。頂点 $1$ は根です。\n入力の追加制約：すべてのテストケースにわたる $n$ の合計は $3 \\cdot 10^5$ を超えません。\n出力\n各テストケースについて、有効な頂点列の数を整数として出力し、$998244353$ で割った余りを求めてください。",
    "Sample Detail": [
        {
            "input": "3\n4\n1 2 1\n3\n1 2\n7\n1 2 2 1 4 5",
            "output": "4\n2\n8",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n最初の例では、以下のシーケンスが有効です：$[1]$、$[1, 2]$、$[1, 4]$、$[1, 4, 3]$。\n二番目の例では、以下のシーケンスが有効です：$[1]$、$[1, 2]$。\n三番目の例では、以下のシーケンスが有効です：$[1]$、$[1, 2]$、$[1, 2, 7]$、$[1, 2, 7, 6]$、$[1, 5]$、$[1, 5, 3]$、$[1, 5, 3, 6]$、$[1, 5, 4]$。",
    "Note Images": [],
    "Language": "jp"
}