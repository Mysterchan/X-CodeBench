{
    "Title": "Codeforces Round 1033 (Div. 2) and CodeNite 2025",
    "Source": "codeforces",
    "Name": "Square Pool",
    "Time Limit": "1 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "阿里安和哈希斯正在宇宙 AX120 中的固定正方形桌上打撞球，桌子的邊長為 $s$，四個角落都有口袋。這四個角落的坐標分別為 $(0,0)$、$(0,s)$、$(s,0)$ 和 $(s,s)$。在這種類型的比賽中，$n$ 顆相同的球被放置在桌子上，並且它們的坐標為整數，且沒有球位於桌子的邊緣或角落。然後，這些球以每秒 $10^{100}$ 單位的速度（僅以 $45$ 度的角度朝向坐標軸）同時被發射。\n在宇宙 AX120 中，球和口袋幾乎是點狀的，並且碰撞是彈性的，即球在撞擊任何表面時，都會以相同的角度和速度反彈。![image](1.png) \n哈希斯發射了球，他提供了阿里安每顆球的位置和他發射它們的角度。幫助阿里安確定哈希斯到底進了多少顆球進口袋。\n保證不會在同一時刻及位置發生多重碰撞。",
    "Statement Images": [
        "https://espresso.codeforces.com/138ce7bac82674c9a6751e6b772e6f1ef70c54be.png"
    ],
    "Constraints": "Time limit: 1 s\nMemory limit: 256 mb",
    "IO Styles": "輸入\n每個測試包含多個測試案例。第一行包含測試案例的數量 $t$ ($1 ≤ t ≤ 1000$)。接下來是測試案例的描述。\n每個測試案例的第一行包含兩個整數 $n$ 和 $s$ ($1 ≤ n ≤ 10^3$, $2 ≤ s ≤ 10^9$) — 桌面上放置的球的數量以及方形桌球台的邊長。\n接下來的 $n$ 行中的第 $i$ 行包含四個整數 $d_x$, $d_y$, $x_i$, 和 $y_i$ ($d_x, d_y \\in \\{-1, 1\\}$, $0 < x_i, y_i < s$) — 發射在 X 軸和 Y 軸上的方向向量，以及第 $i$ 顆球被放置的位置的坐標。保證在初始時刻沒有兩個球重疊。\n同時保證所有測試案例中 $n$ 的總和不會超過 $10^3$。\n輸出\n對於每個測試案例，輸出一個整數 — 在該場比賽中進球的數量。",
    "Sample Detail": [
        {
            "input": "2\n1 2\n1 1 1 1\n5 4\n1 -1 1 1\n1 -1 2 2\n-1 1 2 3\n1 -1 1 3\n-1 1 3 1",
            "output": "1\n3",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n在第一個測試案例中，有一個球，它直接朝向位置 $(2, 2)$ 被打入，因此進洞。\n在第二個測試案例中，狀態進展為 ![image](2.png)$\\rightarrow$![image](3.png)  ![image](4.png)$\\rightarrow$![image](5.png)  ![image](6.png)$\\rightarrow$![image](7.png)  ![image](8.png)$\\rightarrow$![image](9.png)",
    "Note Images": [
        "https://espresso.codeforces.com/08caa72a3a1dca78c7b776d383163e115a007a64.png",
        "https://espresso.codeforces.com/0ee2db956c3cabb78b741df2d46b2a401edd7af6.png",
        "https://espresso.codeforces.com/192e5629c048f70102f1510fb53852f034c5c9ab.png",
        "https://espresso.codeforces.com/cf4eca33f47ec0df523a2e76beaafd77d334fd4b.png",
        "https://espresso.codeforces.com/c398799ea9820515ae418be088563c548af518cf.png",
        "https://espresso.codeforces.com/aa16ba76cf82f97b752cc75a10075f92d4da0b2f.png",
        "https://espresso.codeforces.com/e89048dcac1951219c611833cebf4efc939150ab.png",
        "https://espresso.codeforces.com/0f9e2291168b5c051667a7cfdea4c92dbc9cf8e3.png"
    ],
    "Language": "cn"
}