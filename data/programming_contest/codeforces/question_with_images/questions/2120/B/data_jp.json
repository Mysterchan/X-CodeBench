{
    "Title": "Codeforces Round 1033 (Div. 2) and CodeNite 2025",
    "Source": "codeforces",
    "Name": "Square Pool",
    "Time Limit": "1 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "アリアンとハーシスは、宇宙AX120の固定された正方形のビリヤード台でビリヤードをしています。この台の一辺の長さは$s$で、4つの隅にポケットがあります。隅の座標は$(0,0)$、$(0,s)$、$(s,0)$、$(s,s)$です。このゲームのバリエーションでは、$n$個の同一のボールが、テーブルの端や隅には置かれず、整数座標で配置されます。そして、すべてのボールは同時に$10^{100}$単位/秒の速度で（軸に対して45度の角度で）打たれます。\n宇宙AX120では、ボールとポケットはほぼ点サイズであり、衝突は弾性です。つまり、ボールは任意の表面に当たると、同じ角度で同じ速度で跳ね返ります。![image](1.png)\nハーシスはボールを打ち、アリアンにボールの位置と打った角度を提供しました。アリアンがハーシスによってポケットに入れられたボールの数を特定するのを手伝ってください。\n複数の衝突が同時に同じ位置で発生することはないことが保証されています。",
    "Statement Images": [
        "https://espresso.codeforces.com/138ce7bac82674c9a6751e6b772e6f1ef70c54be.png"
    ],
    "Constraints": "Time limit: 1 s\nMemory limit: 256 mb",
    "IO Styles": "入力\n各テストには複数のテストケースが含まれています。最初の行にはテストケースの数 $t$ ($1 ≤ t ≤ 1000$) が含まれています。テストケースの説明が続きます。\n各テストケースの最初の行には、テーブルに置かれたボールの数 $n$ と正方形のビリヤードテーブルの辺の長さ $s$ ($1 ≤ n ≤ 10^3$, $2 ≤ s ≤ 10^9$) が含まれています。\n次の $n$ 行の $i$-番目には、4つの整数 $d_x$, $d_y$, $x_i$, $y_i$ ($d_x,d_y \\in \\{-1, 1\\}$, $0 < x_i, y_i < s$) が含まれています。これはそれぞれ、X軸およびY軸の発射方向ベクトルと、$i$-番目のボールが置かれた位置の座標です。初期の時点で2つのボールが重なることはないことが保証されています。\nまた、すべてのテストケースにおける $n$ の合計は $10^3$ を超えないことが保証されています。\n出力\n各テストケースについて、ゲームでポットされたボールの数を1つの整数として出力してください。",
    "Sample Detail": [
        {
            "input": "2\n1 2\n1 1 1 1\n5 4\n1 -1 1 1\n1 -1 2 2\n-1 1 2 3\n1 -1 1 3\n-1 1 3 1",
            "output": "1\n3",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n最初のテストケースでは、ボールが1つあり、$(2, 2)$のポケットに直接向かって撃たれるため、ポットされます。\n2番目のテストケースでは、状態が次のように進行します。 ![image](2.png)$\\rightarrow$![image](3.png)  ![image](4.png)$\\rightarrow$![image](5.png)  ![image](6.png)$\\rightarrow$![image](7.png)  ![image](8.png)$\\rightarrow$![image](9.png)",
    "Note Images": [
        "https://espresso.codeforces.com/08caa72a3a1dca78c7b776d383163e115a007a64.png",
        "https://espresso.codeforces.com/0ee2db956c3cabb78b741df2d46b2a401edd7af6.png",
        "https://espresso.codeforces.com/192e5629c048f70102f1510fb53852f034c5c9ab.png",
        "https://espresso.codeforces.com/cf4eca33f47ec0df523a2e76beaafd77d334fd4b.png",
        "https://espresso.codeforces.com/c398799ea9820515ae418be088563c548af518cf.png",
        "https://espresso.codeforces.com/aa16ba76cf82f97b752cc75a10075f92d4da0b2f.png",
        "https://espresso.codeforces.com/e89048dcac1951219c611833cebf4efc939150ab.png",
        "https://espresso.codeforces.com/0f9e2291168b5c051667a7cfdea4c92dbc9cf8e3.png"
    ],
    "Language": "jp"
}