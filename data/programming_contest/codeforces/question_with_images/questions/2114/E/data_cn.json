{
    "Title": "Codeforces Round 1027 (Div. 3)",
    "Source": "codeforces",
    "Name": "Kirei Attacks the Estate",
    "Time Limit": "2 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "有一次，基萊悄悄潛入了充滿陷阱的艾茵茲貝爾家族的莊園，但被基利圖的使魔發現。基萊評估了自己的實力後，決定撤退。這個莊園被表示為一棵有 $n$ 個頂點的樹，根位於頂點 $1$。樹的每個頂點都有一個數字 $a_i$ 記錄，表示頂點 $i$ 的危險程度。請記住，樹是一個連通的無向圖，且沒有回路。\n\n為了成功撤退，基萊必須計算每個頂點的威脅值。頂點的威脅值等於從該頂點開始的最大交替和。從頂點 $i$ 開始的垂直路徑上的交替和定義為 $a_i - a_{p_i} + a_{p_{p_i}} - ...$，其中 $p_i$ 是頂點 $i$ 在通往根（頂點 $1$）的路徑上的父頂點。\n\n例如，在下面的樹中，頂點 $4$ 具有以下垂直路徑：\n- $[4]$ 的交替和為 $a_4 = 6$；\n- $[4, 3]$ 的交替和為 $a_4 - a_3 = 6 - 2 = 4$；\n- $[4, 3, 2]$ 的交替和為 $a_4 - a_3 + a_2 = 6 - 2 + 5 = 9$；\n- $[4, 3, 2, 1]$ 的交替和為 $a_4 - a_3 + a_2 - a_1 = 6 - 2 + 5 - 4 = 5$。 \n\n![image](1.png) 頂點的危險值用紅色標示。\n幫助基萊計算所有頂點的威脅值並逃離這個莊園。",
    "Statement Images": [
        "https://espresso.codeforces.com/ca9befad93e279ba6473c3a326b02cf92524400c.png"
    ],
    "Constraints": "Time limit: 2 s\nMemory limit: 256 mb",
    "IO Styles": "輸入\n第一行包含一個整數 $t$ ($1 ≤ t ≤ 10^4$) — 測試案例的數量。\n接下來描述測試案例。\n第一行包含一個整數 $n$ ($2 ≤ n ≤ 2 \\cdot 10^5$) — 樹中頂點的數量。\n第二行包含 $n$ 個整數 $a_1, a_2, ..., a_n$ ($1 ≤ a_i ≤ 10^9$) — 頂點的危險值。\n接下來的 $n - 1$ 行包含數字 $v, u$ ($1 ≤ v, u ≤ n$, $v \\neq u$) — 樹的邊的描述。\n可以保證所有測試案例中 $n$ 的總和不超過 $2 \\cdot 10^5$。也可以保證給定的邊集形成一棵樹。\n輸出\n對於每個測試案例，輸出 $n$ 個整數 — 每個頂點的威脅值。",
    "Sample Detail": [
        {
            "input": "2\n5\n4 5 2 6 7\n1 2\n3 2\n4 3\n5 1\n6\n1000000000 500500500 900900900 9 404 800800800\n3 4\n5 1\n2 5\n1 6\n6 4",
            "output": "4 5 2 9 7 \n1000000000 1500500096 1701701691 199199209 404 800800800 ",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意  \n第一個測試案例中的樹在敘述中已經描繪出來，最大變數符號和的計算如下：  \n - $a_1 = 4$；  \n - $a_2 = 5$；  \n - $a_3 = 2$；  \n - $a_4 - a_3 + a_2 = 6 - 2 + 5 = 9$；  \n - $a_5 = 7$。",
    "Note Images": [],
    "Language": "cn"
}