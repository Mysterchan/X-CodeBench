{
    "Title": "Specific Tasks",
    "Source": "codeforces",
    "Name": "E",
    "Time Limit": "unknown",
    "Memory Limit": "unknown",
    "Problem Statement": "Однажды Кирей подло пробрался в полное ловушек поместье Айнцбернов, но был обнаружен фамильяром Кирицугу. Оценив свои силы, Кирей решил отступить. Поместье представляет собой дерево из $n$ вершин с корнем в вершине $1$. В каждой вершине дерева записано число $a_i$ — опасность вершины $i$. Напомним, что деревом называется связный неориентированный граф без циклов.\nЧтобы отступление оказалось успешным, Кирей должен вычислить для каждой вершины значение угрозы. Угроза вершины равна максимальной знакопеременной сумме на вертикальном пути с началом в этой вершине. Знакопеременная сумма на вертикальном пути с началом в вершине $i$ равна $a_i - a_{p_i} + a_{p_{p_i}} - ...$, где $p_i$ — родитель вершины $i$ на пути к корню (к вершине $1$).\nНапример, в дереве ниже у вершины $4$ есть следующие вертикальные пути:  - $[4]$ с знакопеременной суммой $a_4 = 6$; - $[4, 3]$ с знакопеременной суммой $a_4 - a_3 = 6 - 2 = 4$; - $[4, 3, 2]$ с знакопеременной суммой $a_4 - a_3 + a_2 = 6 - 2 + 5 = 9$; - $[4, 3, 2, 1]$ с знакопеременной суммой $a_4 - a_3 + a_2 - a_1 = 6 - 2 + 5 - 4 = 5$.  ![image](1.png) Красным цветом указаны опасности вершин. \nПомогите Кирею вычислить значения угроз для всех вершин и покинуть поместье.",
    "Statement Images": [
        "https://espresso.codeforces.com/ca9befad93e279ba6473c3a326b02cf92524400c.png"
    ],
    "Constraints": "Time limit: unknown\nMemory limit: unknown",
    "IO Styles": "Входные данные\nВ первой строке дано целое число $t$ ($1 ≤ t ≤ 10^4$) — количество наборов входных данных.\nДалее следует описание наборов.\nВ первой строке дано целое число $n$ ($2 ≤ n ≤ 2 \\cdot 10^5$) — количество вершин в дереве.\nВо второй строке даны $n$ целых чисел $a_1, a_2, ..., a_n$ ($1 ≤ a_i ≤ 10^9$) — опасности вершин.\nВ следующих $n - 1$ строках даны числа $v, u$ ($1 ≤ v, u ≤ n$, $v \\neq u$) — описание рёбер дерева.\nГарантируется, что сумма $n$ по всем наборам входных данных не превосходит $2 \\cdot 10^5$. Также гарантируется, что заданный набор рёбер образует дерево.\nВыходные данные\nДля каждого набора входных данных выведите $n$ целых чисел — угрозу каждой вершины.",
    "Sample Detail": [
        {
            "input": "2\n5\n4 5 2 6 7\n1 2\n3 2\n4 3\n5 1\n6\n1000000000 500500500 900900900 9 404 800800800\n3 4\n5 1\n2 5\n1 6\n6 4",
            "output": "4 5 2 9 7 \n1000000000 1500500096 1701701691 199199209 404 800800800 ",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "Примечание\nДерево из первого набора входных данных изображено в условии, максимальные знакопеременные суммы достигаются следующим образом:  - $a_1 = 4$; - $a_2 = 5$; - $a_3 = 2$; - $a_4 - a_3 + a_2 = 6 - 2 + 5 = 9$; - $a_5 = 7$.",
    "Note Images": [],
    "Language": "ru"
}