{
    "Title": "Codeforces Round 1027 (Div. 3)",
    "Source": "codeforces",
    "Name": "Kirei Attacks the Estate",
    "Time Limit": "2 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "一度、キレイは罠だらけのアインズベルン家の屋敷に密かに侵入しましたが、キリツグの使い魔に発見されてしまいました。自らの強さを評価したキレイは、退却することに決めました。この屋敷は根ノードが頂点$1$の$n$頂点の木（ツリー）として表現されています。木の各頂点には危険度を示す数$a_i$が記録されています。木はサイクルのない連結無向グラフであることを思い出してください。\n\n退却を成功させるために、キレイは各頂点の脅威値を計算しなければなりません。頂点の脅威は、その頂点から始まる垂直パスに沿った最大の交互和と等しいです。頂点$i$から始まる垂直パスに沿った交互和は、$a_i - a_{p_i} + a_{p_{p_i}} - ...$ と定義され、ここで$p_i$は頂点$i$から根（頂点$1$）へのパス上の親ノードです。\n\n例えば、以下の木では、頂点$4$は次のような垂直パスを持っています：\n- $[4]$ の交互和は $a_4 = 6$;\n- $[4, 3]$ の交互和は $a_4 - a_3 = 6 - 2 = 4$;\n- $[4, 3, 2]$ の交互和は $a_4 - a_3 + a_2 = 6 - 2 + 5 = 9$;\n- $[4, 3, 2, 1]$ の交互和は $a_4 - a_3 + a_2 - a_1 = 6 - 2 + 5 - 4 = 5$。\n\n![image](1.png) 頂点の危険度は赤で示されています。\nキレイが全ての頂点の脅威値を計算し、屋敷から逃げ出す手助けをしてください。",
    "Statement Images": [
        "https://espresso.codeforces.com/ca9befad93e279ba6473c3a326b02cf92524400c.png"
    ],
    "Constraints": "Time limit: 2 s\nMemory limit: 256 mb",
    "IO Styles": "入力\n最初の行には整数 $t$ ($1 ≤ t ≤ 10^4$) が含まれます。これはテストケースの数です。\n次にテストケースの説明があります。\n最初の行には整数 $n$ ($2 ≤ n ≤ 2 \\cdot 10^5$) が含まれます。これは木の頂点の数です。\n次の行には $n$ 個の整数 $a_1, a_2, ..., a_n$ ($1 ≤ a_i ≤ 10^9$) が含まれます。これは頂点の危険度です。\n次の $n - 1$ 行には数字 $v, u$ ($1 ≤ v, u ≤ n$, $v \\neq u$) が含まれます。これは木の辺の説明です。\nすべてのテストケースに渡る $n$ の合計が $2 \\cdot 10^5$ を超えないことが保証されています。また、与えられた辺の集合が木を形成することも保証されています。\n出力\n各テストケースについて、各頂点の脅威を表す $n$ 個の整数を出力してください。",
    "Sample Detail": [
        {
            "input": "2\n5\n4 5 2 6 7\n1 2\n3 2\n4 3\n5 1\n6\n1000000000 500500500 900900900 9 404 800800800\n3 4\n5 1\n2 5\n1 6\n6 4",
            "output": "4 5 2 9 7 \n1000000000 1500500096 1701701691 199199209 404 800800800 ",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n最初のテストケースにおける木は問題文に示されており、最大の符号付き和は以下のように達成されます： - $a_1 = 4$; - $a_2 = 5$; - $a_3 = 2$; - $a_4 - a_3 + a_2 = 6 - 2 + 5 = 9$; - $a_5 = 7$.",
    "Note Images": [],
    "Language": "jp"
}