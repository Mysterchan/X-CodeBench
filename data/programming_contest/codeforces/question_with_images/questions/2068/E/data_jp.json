{
    "Title": "European Championship 2025 - Online Mirror (Unrated, ICPC Rules, Teams Preferred)",
    "Source": "codeforces",
    "Name": "Porto Vs. Benfica",
    "Time Limit": "2 s",
    "Memory Limit": "1024 mb",
    "Problem Statement": "FCポルトとSLベンフィカはポルトガルの2大サッカーチームです。自然に、両者が対戦すると、多くの人々が全国から試合を観るために移動します。これにはリスボンからポルトへ向かうベンフィカ支持者クラブも含まれます。彼らとポルトの支持者クラブとの間の緊張を避けるため、国家警察は彼らがポルトに到着するのをできるだけ遅らせたいと考えています。\n\nポルトガルの道路ネットワークは、$n$ 頂点と $m$ 辺を持つ単純な無向無重みの連結グラフとしてモデル化できます。頂点は町を表し、辺は道路を表します。頂点 $1$ はリスボンに対応し、すなわち支持者クラブの出発点であり、頂点 $n$ はポルトに対応し、すなわち支持者クラブの目的地です。支持者クラブはポルトに到達するために通る道路の本数を最小化したいと考えています。\n\n警察は支持者クラブを注意深く追跡しており、彼らの位置を常に把握しています。到着を遅らせるために、警察はいつでも正確に1つの道路を選び、それを封鎖することができます。ただし、支持者クラブがその道路を通過中でない場合に限ります。彼らはこれをちょうど1回行うことができ、一度封鎖すると、その道路は永久に封鎖されます。警察が道路を封鎖すると、支持者クラブはその道路が封鎖されたことを即座に知り、好きなようにルートを変更することができます。さらに、支持者クラブは警察がある道路を封鎖する計画を立てていることを知っており、それに応じてルートを計画することができます。\n\n支持者クラブと警察の両方が常に最適な選択をする場合、リスボンからポルトに行くために支持者クラブが通過する必要がある道路の最小本数を求めてください。警察が支持者クラブがポルトに到達するのを永遠に妨げることができるなら、$-1$ を出力してください。",
    "Statement Images": [],
    "Constraints": "Time limit: 2 s\nMemory limit: 1024 mb",
    "IO Styles": "入力\n最初の行には二つの整数 $n$ と $m$ ($2 ≤ n ≤ 200\\,000$, $n - 1 ≤ m ≤ \\min\\{n(n - 1)/2, 200\\,000\\}$) が含まれます。これはポルトガルの道路網における町の数と道路の数です。\n次の $m$ 行にはそれぞれ二つの整数 $s_i$ と $t_i$ ($1 ≤ s_i, t_i ≤ n$) が含まれます。これは $i$-番目の道路で接続されている二つの町です。\n道路網は接続されていることが保証されており、それぞれの道路は二つの異なる町を接続し、重複する道路はありません。\n出力\nリスボンからポルトまで移動するためにサポータークラブが通過する必要がある道路の最小数を出力してください。",
    "Sample Detail": [
        {
            "input": "5 5\n1 2\n1 3\n2 5\n3 4\n4 5",
            "output": "5",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n最初のサンプルでは、道路ネットワークは以下の図で表されています: ![image](1.png) \n警察の最適戦略は、支持者クラブが目的地（すなわち、頂点 $5$）に隣接する頂点に到達するまで待機し、その頂点と目的地を結ぶ辺をブロックすることです。支持者クラブの最適戦略は、上の道を進むこと（$1$ から $2$ へ移動する）であり、次に $2$ と $5$ の間の辺がブロックされたのを見た後、$2$ から $1$ に戻り、下の道（$1$ から $3$、$4$、$5$ へ）を進むことです。この場合、通過した道路の数は $5$ です。\n二番目のサンプルでは、道路ネットワークは以下の図で表されています: ![image](2.png) \nここには複数の戦略がありますが、警察と支持者クラブの両方にとって最適な戦略は上の道を進むこと（$1 \\rightarrow 2 \\rightarrow 3 \\rightarrow 4 \\rightarrow 5$）であり、その後警察が辺 $5$ から $11$ をブロックします。したがって支持者クラブは、$5 \\rightarrow 4 \\rightarrow 3 \\rightarrow 6 \\rightarrow 7 \\rightarrow 11$ の順で迂回します。この戦略で通過する道路の総数は $9$ です。\n三番目のサンプルでは、道路ネットワークは以下の図で表されています: ![image](3.png) \n警察の最適戦略は、支持者クラブが頂点 $2$ に到達した場合は辺 $2$ から $3$ をブロックし、または支持者クラブが頂点 $5$ に到達した場合は辺 $5$ から $6$ をブロックすることです。この場合の最適な道は $1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 5 \\rightarrow 6 \\rightarrow 8$ です。この場合、通過した道路の数は $5$ です。",
    "Note Images": [
        "https://espresso.codeforces.com/4d9bc0957d76dffc876321cf6b35abc1d03f02e6.png",
        "https://espresso.codeforces.com/b94265600b5d1f54840a9414b51f63eeaa148342.png",
        "https://espresso.codeforces.com/04edcdc74647aae1495b904faaf016fa3e452339.png"
    ],
    "Language": "jp"
}