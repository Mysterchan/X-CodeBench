{
    "Title": "European Championship 2025 - Online Mirror (Unrated, ICPC Rules, Teams Preferred)",
    "Source": "codeforces",
    "Name": "Porto Vs. Benfica",
    "Time Limit": "2 s",
    "Memory Limit": "1024 mb",
    "Problem Statement": "FC 波爾圖和 SL 本菲卡是葡萄牙最大的兩支足球隊。自然，當這兩隊相遇時，許多人會從全國各地前來觀看比賽。這包括了將從里斯本前往波爾圖觀看即將到來的比賽的本菲卡支持者俱樂部。為了避免他們與波爾圖支持者俱樂部之間的緊張局勢，國家警察希望儘可能推遲他們到達波爾圖的時間。\n\n葡萄牙的道路網絡可以建模為一個簡單的、無向的、無權重的、連通的圖，具有 $n$ 個頂點和 $m$ 條邊，其中頂點代表城鎮，而邊代表道路。頂點 $1$ 對應於里斯本，即支持者俱樂部的出發頂點，而頂點 $n$ 是波爾圖，即支持者俱樂部的目的地頂點。支持者俱樂部希望最小化他們到達波爾圖所經過的道路數量。\n\n警察正在仔細監視支持者俱樂部，因此他們始終知道他們的位置。為了延遲他們的到達，警察可以在任何時候選擇一條路並封鎖它，只要支持者俱樂部當前不在其上行駛。他們可以這樣做一次，一旦這樣做，該道路將永遠被封鎖。一旦警察封鎖了一條道路，支持者俱樂部會立即得知該道路被封鎖的消息，並可以根據意願改變他們的路線。此外，支持者俱樂部知道警察計劃封鎖某條路，因此可以相應地制定路線。\n\n假設支持者俱樂部和警察都始終做出最佳選擇，確定支持者俱樂部從里斯本到波爾圖所需經過的最少道路數量。如果警察可以阻止支持者俱樂部永遠到達波爾圖，則輸出 $-1$。",
    "Statement Images": [],
    "Constraints": "時間限制：2 秒  \n記憶體限制：1024 公斤",
    "IO Styles": "輸入\n第一行包含兩個整數 $n$ 和 $m$ ($2 ≤ n ≤ 200\\,000$, $n - 1 ≤ m ≤ \\min\\{n(n - 1)/2, 200\\,000\\}$) — 葡萄牙道路網絡中的城鎮數和道路數。\n接下來的 $m$ 行中，每行包含兩個整數 $s_i$ 和 $t_i$ ($1 ≤ s_i, t_i ≤ n$) — 第 $i$ 條道路連接的兩個城鎮。\n保證道路網絡是連通的，每條道路連接兩個不同的城鎮，且沒有重複的道路。\n輸出\n打印支持者俱樂部需要穿越的最少道路數，以便從里斯本旅行到波爾圖。",
    "Sample Detail": [
        {
            "input": "5 5\n1 2\n1 3\n2 5\n3 4\n4 5",
            "output": "5",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n在第一個範例中，路網由以下圖片表示：![image](1.png)\n請注意，警方的最佳策略是等到支持者俱樂部位於相鄰於目的地的頂點（即，頂點 $5$）時，然後封鎖連接該頂點與目的地的邊。支持者俱樂部的最佳策略是沿著上方路徑前進（從 $1$ 到 $2$），然後在看到邊 $2$ 和 $5$ 被封鎖後，他們將繞行回到 $1$，然後沿著下方路徑前進（$1$ 到 $3$ 到 $4$ 到 $5$）。在這種情況下，經過的道路總數是 $5$。\n在第二個範例中，路網由以下圖片表示：![image](2.png)\n這裡有多種策略，但可以驗證出，對於警方和支持者俱樂部來說，最佳的策略是沿著上方路徑（$1 \\rightarrow 2 \\rightarrow 3 \\rightarrow 4 \\rightarrow 5$）前進，然後警方封鎖邊 $5$ 到 $11$，因此支持者俱樂部將繞行，經過 $5 \\rightarrow 4 \\rightarrow 3 \\rightarrow 6 \\rightarrow 7 \\rightarrow 11$。這種策略經過的道路總數是 $9$。\n在第三個範例中，路網由以下圖片表示：![image](3.png)\n警方的最佳策略是在支持者俱樂部到達頂點 $2$ 時封鎖邊 $2$ 到 $3$，或是支持者俱樂部到達頂點 $5$ 時封鎖邊 $5$ 到 $6$。在這種情況下的最佳路徑是 $1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 5 \\rightarrow 6 \\rightarrow 8$。在這種情況下，經過的道路總數是 $5$。",
    "Note Images": [
        "https://espresso.codeforces.com/4d9bc0957d76dffc876321cf6b35abc1d03f02e6.png",
        "https://espresso.codeforces.com/b94265600b5d1f54840a9414b51f63eeaa148342.png",
        "https://espresso.codeforces.com/04edcdc74647aae1495b904faaf016fa3e452339.png"
    ],
    "Language": "cn"
}