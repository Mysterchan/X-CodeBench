{
    "Title": "Codeforces Round 1014 (Div. 2)",
    "Source": "codeforces",
    "Name": "She knows...",
    "Time Limit": "2 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "D. ピッピーは、自宅での「白黒」パーティーの準備をしています。彼は地下室の床を再塗装する必要があり、これは $n \\times m$ のボードとして表すことができます。\n最後のパーティー以来、全てのボードは緑色に塗られていますが、いくつかの $k$ 個のセル $(x_1, y_1), (x_2, y_2), ..., (x_k, y_k)$ はそれぞれ白または黒に塗られています。次のパーティーのために、D. ピッピーは残りの緑色のセルをすべて黒または白に塗りたいと考えています。同時に、再塗装後のボード上で異なる色の隣接セルのペアの数が偶数であるようにしたいと考えています。\n正式には、$A = \\left\\{((i_1, j_1), (i_2, j_2)) \\ | \\ 1 ≤ i_1, i_2 ≤ n, 1 ≤ j_1, j_2 ≤ m, i_1+j_1<i_2+j_2, |i_1-i_2|+|j_1-j_2| = 1, \\operatorname{color}(i_1, j_1) \\neq \\operatorname{color}(i_2, j_2) \\right\\}$ とし、ここで $\\operatorname{color}(x, y)$ はセル $(x, y)$ の色を示します。$|A|$ が偶数であることが必要です。\nD. ピッピーが条件を満たすように床を再塗装する方法の数を求める手助けをしてください。この数は大きくなる可能性があるため、その $10^9 + 7$ での剰余を出力してください。",
    "Statement Images": [],
    "Constraints": "Time limit: 2 s\nMemory limit: 256 mb",
    "IO Styles": "入力\n各テストは複数のテストケースから構成されています。入力データの最初の行には整数 $t$ ($1 ≤ t ≤ 10^4$) が含まれます — テストケースの数。テストケースの説明が続きます。\n各テストケースの最初の行には3つの整数 $n, m, k$ ($3 ≤ n, m ≤ 10^9$; $1 ≤ k ≤ 2 \\cdot 10^5$) が含まれます — ボードのサイズと、初めに緑でないセルの数です。\n続く $k$ 行の $i$-番目には、3つの整数 $x_i, y_i$ と $c_i$ ($1 ≤ x_i ≤ n; 1 ≤ y_i ≤ m$; $c_i \\in \\{0, 1\\}$) が含まれます — セルの座標とその色（白の場合は $c_i = 0$; 黒の場合は $c_i = 1$）です。すべてのセルが異なることが保証されています。\nすべてのテストケースにおける $k$ の合計は $2 \\cdot 10^5$ を超えないことが保証されています。\n出力\n各テストケースについて、整数を1つ出力します — 答えは $10^9 + 7$ で割った余りです。",
    "Sample Detail": [
        {
            "input": "2\n3 3 6\n1 1 0\n1 2 1\n1 3 0\n3 1 1\n3 2 0\n3 3 1\n3 4 12\n1 1 0\n1 2 1\n1 3 0\n1 4 1\n2 1 1\n2 2 0\n2 3 1\n2 4 0\n3 1 0\n3 2 1\n3 3 0\n3 4 1",
            "output": "4\n0",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注\n最初のテストケースでは、緑のセル $(2, 1), (2, 2), (2, 3)$ を塗る方法が正確に $4$ 通りあります。すなわち、$(1, 1, 0), (0, 0, 1), (1, 0, 0), (0, 1, 1)$ です（色はセルと同じ順序で示されています）。以下のように示されています。 ![image](1.png) 例 1。\n2番目のテストケースでは、ボードのすべてのセルはすでに塗られており、異なる色の隣接セルのペアの数は奇数であるため、答えはゼロです。",
    "Note Images": [
        "https://espresso.codeforces.com/675afbf168b04d13cafb66dda4b563200ddc256d.png"
    ],
    "Language": "jp"
}