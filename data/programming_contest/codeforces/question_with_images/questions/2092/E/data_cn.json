{
    "Title": "Codeforces Round 1014 (Div. 2)",
    "Source": "codeforces",
    "Name": "She knows...",
    "Time Limit": "2 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "D. Pippy 正在為他家裡的「黑白」派對做準備。他只需要重新粉刷地下室的地板，這可以表示為一個大小為 $n \\times m$ 的棋盤。\n在上一次派對後，整個棋盤都被漆成綠色，除了某些 $k$ 個單元格 $(x_1, y_1), (x_2, y_2), ..., (x_k, y_k)$，每個單元格要麼被漆成白色，要麼被漆成黑色。為了即將到來的派對，D. Pippy 希望將其餘的綠色單元格重新粉刷成黑色或白色。同時，他希望在重新粉刷後，棋盤上相鄰單元格顏色不同的對數是偶數。\n形式上，如果 $A = \\left\\{((i_1, j_1), (i_2, j_2)) \\ | \\ 1 \\leq i_1, i_2 \\leq n, 1 \\leq j_1, j_2 \\leq m, i_1+j_1<i_2+j_2, |i_1-i_2|+|j_1-j_2| = 1, \\operatorname{color}(i_1, j_1) \\neq \\operatorname{color}(i_2, j_2) \\right\\}$，其中 $\\operatorname{color}(x, y)$ 表示單元格 $(x, y)$ 的顏色，那麼要求 $|A|$ 是偶數。\n幫助 D. Pippy 找到重新粉刷地板以滿足該條件的方式數量。由於這個數字可能很大，請輸出其除以 $10^9 + 7$ 的餘數。",
    "Statement Images": [],
    "Constraints": "Time limit: 2 s\nMemory limit: 256 mb",
    "IO Styles": "輸入\n每個測試包含幾個測試案例。輸入數據的第一行包含一個整數 $t$ ($1 ≤ t ≤ 10^4$) — 測試案例的數量。接下來是測試案例的描述。\n每個測試案例的第一行包含三個整數 $n, m, k$ ($3 ≤ n, m ≤ 10^9$; $1 ≤ k ≤ 2 \\cdot 10^5$) — 棋盤的維度和最初不是綠色的單元格數量。\n在每個測試案例的接下來的 $k$ 行中，第 $i$ 行包含三個整數 $x_i, y_i$ 和 $c_i$ ($1 ≤ x_i ≤ n; 1 ≤ y_i ≤ m$; $c_i \\in \\{0, 1\\}$) — 單元格的坐標及其顏色（如果是白色，則 $c_i = 0$；如果是黑色，則 $c_i = 1$）。保證所有單元格都是不同的。\n保證所有測試案例中 $k$ 的總和不超過 $2 \\cdot 10^5$。\n輸出\n對於每個測試案例，輸出一個整數 — 答案模 $10^9 + 7$。",
    "Sample Detail": [
        {
            "input": "2\n3 3 6\n1 1 0\n1 2 1\n1 3 0\n3 1 1\n3 2 0\n3 3 1\n3 4 12\n1 1 0\n1 2 1\n1 3 0\n1 4 1\n2 1 1\n2 2 0\n2 3 1\n2 4 0\n3 1 0\n3 2 1\n3 3 0\n3 4 1",
            "output": "4\n0",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n在第一個測試案例中，有正好 $4$ 種方法來塗色綠色單元格 $(2, 1), (2, 2), (2, 3)$，即：$(1, 1, 0), (0, 0, 1), (1, 0, 0), (0, 1, 1)$（顏色的順序與單元格相同），如下所示。 ![image](1.png) 範例 1。\n在第二個測試案例中，棋盤上的所有單元格已經被塗色，且棋盤上不同顏色的相鄰單元格對數是奇數，因此答案為零。",
    "Note Images": [
        "https://espresso.codeforces.com/675afbf168b04d13cafb66dda4b563200ddc256d.png"
    ],
    "Language": "cn"
}