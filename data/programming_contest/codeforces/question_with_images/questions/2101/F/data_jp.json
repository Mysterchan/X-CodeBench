{
    "Title": "Codeforces Round 1024 (Div. 1)",
    "Source": "codeforces",
    "Name": "Shoo Shatters the Sunshine",
    "Time Limit": "7 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "与えられたのは、$n$ 頂点を持つ木であり、各頂点は赤、青、または白に塗り分けることができます。塗り分けの「クールさ」は、赤い頂点と青い頂点の最大距離$^{\\text{∗}}$として定義されます。\n形式的には、$i$ 番目の頂点の色を $c_i$ と表すと、塗り分けのクールさは、$c_u$ が赤、$c_v$ が青であるすべての頂点のペア $1≤ u, v≤ n$ に対しての $\\max d(u, v)$ となります。赤い頂点が存在しない場合や青い頂点が存在しない場合、クールさはゼロとなります。\nあなたのタスクは、木の $3^n$ 通りのすべての塗り分けに対するクールさの合計を計算し、その結果を $998\\,244\\,353$ で割った余りを求めることです。\n$^{\\text{∗}}$木における2つの頂点 $a$ と $b$ の距離は、頂点 $a$ から頂点 $b$ への一意の単純なパス上のエッジの数に等しいです。",
    "Statement Images": [],
    "Constraints": "Time limit: 7 s\nMemory limit: 256 mb",
    "IO Styles": "入力\n各テストは複数のテストケースを含んでいます。最初の行にはテストケースの数 $t$ （$1 ≤ t ≤ 50$）が含まれています。テストケースの説明が続きます。\n各テストケースの最初の行には、木の頂点の数を示す整数 $n$ （$2≤ n≤ 3000$）が含まれています。\n次の $n - 1$ 行には、木の辺の端点を示す二つの整数 $u$ と $v$ （$1≤ u, v≤ n$）が含まれています。\n与えられた辺が木を形成することが保証されています。\nすべてのテストケースにおける $n$ の合計は $3000$ を超えないことが保証されています。\n出力\n各テストケースについて、木の $3^n$ 通りの可能な彩色に対するクールさの合計を $998\\,244\\,353$ で割った余りを出力します。",
    "Sample Detail": [
        {
            "input": "3\n3\n1 2\n2 3\n6\n1 2\n1 3\n1 4\n3 5\n5 6\n17\n1 2\n1 3\n1 4\n1 5\n2 6\n2 7\n2 8\n3 9\n3 10\n7 11\n7 12\n11 13\n13 14\n14 15\n10 16\n16 17",
            "output": "18\n1920\n78555509",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\n最初のテストケースでは、青いノードと赤いノードがそれぞれ少なくとも1つ含まれる$12$通りの着色があります。以下の画像はそれらの着色とそのクールさを示しています: ![image](1.png) これらの着色はすべてクールさが$2$です ![image](2.png) これらの着色はすべてクールさが$1$です \nしたがって、すべての可能な着色に対するクールさの合計は$6\\cdot 2 + 6\\cdot 1 = 18$です。\n第二のテストケースでは、クールさが$3$の着色のいくつかの例を示します: ![image](3.png)",
    "Note Images": [
        "https://espresso.codeforces.com/15dd2aaf8c69f02fa71a455d40f5b7dc08ca4311.png",
        "https://espresso.codeforces.com/921c5954be27aa779f596f91411b63f11d4f661a.png",
        "https://espresso.codeforces.com/24a643356f55c5c5cb134dfece58f952a4c90566.png"
    ],
    "Language": "jp"
}