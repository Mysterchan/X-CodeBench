{
    "Title": "Codeforces Round 1024 (Div. 1)",
    "Source": "codeforces",
    "Name": "Shoo Shatters the Sunshine",
    "Time Limit": "7 s",
    "Memory Limit": "256 mb",
    "Problem Statement": "You are given a tree with $n$ vertices, where each vertex can be colored red, blue, or white. The coolness of a coloring is defined as the maximum distance$^{\\text{∗}}$ between a red and a blue vertex.\nFormally, if we denote the color of the $i$-th vertex as $c_i$, the coolness of a coloring is $\\max d(u, v)$ over all pairs of vertices $1≤ u, v≤ n$ where $c_u$ is red and $c_v$ is blue. If there are no red or no blue vertices, the coolness is zero.\nYour task is to calculate the sum of coolness over all $3^n$ possible colorings of the tree, modulo $998\\,244\\,353$.\n$^{\\text{∗}}$The distance between two vertices $a$ and $b$ in a tree is equal to the number of edges on the unique simple path between vertex $a$ and vertex $b$.",
    "Statement Images": [],
    "Constraints": "Time limit: 7 s\nMemory limit: 256 mb",
    "IO Styles": "Input\nEach test contains multiple test cases. The first line contains the number of test cases $t$ ($1 ≤ t ≤ 50$). The description of the test cases follows. \nThe first line of each test case contains a single integer $n$ ($2≤ n≤ 3000$) — the number of vertices in the tree.\nEach of the next $n - 1$ lines contains two integers $u$ and $v$ ($1≤ u, v≤ n$) — the endpoints of the edges of the tree.\nIt is guaranteed that the given edges form a tree.\nIt is guaranteed that the sum of $n$ over all test cases does not exceed $3000$. \nOutput\nFor each test case, output the sum of coolness over all $3^n$ possible colorings of the tree, modulo $998\\,244\\,353$.",
    "Sample Detail": [
        {
            "input": "3\n3\n1 2\n2 3\n6\n1 2\n1 3\n1 4\n3 5\n5 6\n17\n1 2\n1 3\n1 4\n1 5\n2 6\n2 7\n2 8\n3 9\n3 10\n7 11\n7 12\n11 13\n13 14\n14 15\n10 16\n16 17",
            "output": "18\n1920\n78555509",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "Note\nIn the first test case, there are $12$ colorings that have at least one blue and one red node. The following pictures show their coloring and their coolness: ![image](1.png) All these colorings have coolness $2$  ![image](2.png) All these colorings have coolness $1$ \nTherefore, the sum of coolness over all possible colorings is $6\\cdot 2 + 6\\cdot 1 = 18$.\nIn the second test case, the following are some examples of colorings with a coolness of $3$: ![image](3.png)",
    "Note Images": [
        "https://espresso.codeforces.com/15dd2aaf8c69f02fa71a455d40f5b7dc08ca4311.png",
        "https://espresso.codeforces.com/921c5954be27aa779f596f91411b63f11d4f661a.png",
        "https://espresso.codeforces.com/24a643356f55c5c5cb134dfece58f952a4c90566.png"
    ],
    "Language": "en"
}