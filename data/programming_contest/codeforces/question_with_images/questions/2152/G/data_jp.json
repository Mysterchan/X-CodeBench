{
    "Title": "Squarepoint Challenge (Codeforces Round 1055, Div. 1 + Div. 2)",
    "Source": "codeforces",
    "Name": "Query Jungle",
    "Time Limit": "3 s",
    "Memory Limit": "1024 mb",
    "Problem Statement": "Onerはジャングラーです — モンスターを狩る役割を担っています。彼がジャングルで見る木の数を考えると、木に関するクエリ問題に夢中になるのも不思議ではありません。\nあなたには、$n$ 個の頂点を持つ木が与えられ、頂点 $1$ に根が生えています。各頂点にはモンスターがいるか、いないかのいずれかです。\nあなたは、以下の条件を満たす最小の整数 $k$ を見つける必要があります：\n- 各パスは根（頂点 $1$）から始まらなければなりません。\n- モンスターを含むすべての頂点は、これらのパスのいずれかに少なくとも1つ含まれていなければなりません。頂点は、パスの頂点の一部（端点を含む）である場合、パスに含まれると見なされます。\nこの問題をさらに難しくするために、$q$ 個のクエリにも回答しなければなりません。各クエリでは、頂点 $v$ が与えられます。$v$ の部分木にある各頂点 $w$ の状態が反転します — モンスターを含む頂点はモンスターを含まないようになり、モンスターを含まない頂点はモンスターを含むようになります。各クエリの後、変更された状態で元の問題を再度解決する必要があります。\nクエリは累積的であるため、各クエリの効果は将来のクエリに影響を与えます。",
    "Statement Images": [],
    "Constraints": "Time limit: 3 s\nMemory limit: 1024 mb",
    "IO Styles": "入力  \n各テストは複数のテストケースを含みます。最初の行にはテストケースの数 $t$ ($1 ≤ t ≤ 20\\,000$) が含まれます。テストケースの説明が続きます。  \n最初の行には整数 $n$ ($2 ≤ n ≤ 250\\,000$) が含まれます—木の頂点の数です。  \n次の行には $n$ 個の整数 $a_1, a_2, ..., a_n$ ($a_i \\in \\{0, 1\\}$) が含まれ、初期状態を表します。もし $a_i = 1$ の場合、頂点 $i$ にはモンスターが存在し、$a_i = 0$ の場合は存在しません。  \n次の $n-1$ 行には、それぞれ2つの整数 $u$ と $v$ ($1 ≤ u, v ≤ n, u \\ne v$) が含まれ、頂点 $u$ と $v$ の間の辺を説明します。これらの辺が木を形成することが保証されています。  \n次の行には整数 $q$ ($0 ≤ q ≤ 250\\,000$) が含まれ、クエリの数を表します。  \n次の $q$ 行にはそれぞれ、整数 $v_i$ ($1 ≤ v_i ≤ n$) が含まれ、$i$ 番目のクエリに与えられた頂点を示します。  \nすべてのテストケースにわたる $n$ の合計は $250\\,000$ を超えないことが保証されています。  \nすべてのテストケースにわたる $q$ の合計は $250\\,000$ を超えないことが保証されています。  \n\n出力  \n$k$ の初期状態に対する最小のパスの数を含む1行目を出力します。その後の各行には、それぞれのクエリ後の答えを出力します。",
    "Sample Detail": [
        {
            "input": "2\n7\n0 1 0 1 1 0 0\n1 6\n1 7\n7 3\n3 2\n7 5\n5 4\n4\n2\n4\n6\n7\n2\n0 1\n1 2\n2\n2\n1",
            "output": "2\n1\n1\n2\n3\n1\n0\n1",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "注意\nテストケース1：\n初期状態：モンスターは頂点 $\\{2, 4, 5\\}$ にいます。2つのパスが必要です：$1 \\to 7 \\to 3 \\to 2$ と $1 \\to 7 \\to 5 \\to 4$。答えは $2$ です。\nクエリ1 ($v=2$) の後：モンスターは頂点 $\\{4, 5\\}$ にいます。1つのパスが必要です：$1 \\to 7 \\to 5 \\to 4$。答えは $1$ です。\nクエリ2 ($v=4$) の後：モンスターは頂点 $\\{5\\}$ にいます。1つのパスが必要です：$1 \\to 7 \\to 5$。答えは $1$ です。\nクエリ3 ($v=6$) の後：モンスターは頂点 $\\{5, 6\\}$ にいます。2つのパスが必要です：$1 \\to 7 \\to 5$ と $1 \\to 6$。答えは $2$ です。\nクエリ4 ($v=7$) の後：モンスターは頂点 $\\{2, 3, 4, 6, 7\\}$ にいます。3つのパスが必要です：$1 \\to 6$、$1 \\to 7 \\to 5 \\to 4$、および $1 \\to 7 \\to 3 \\to 2$。答えは $3$ です。\n以下の図は、例の入力における木を示しています。 ![image](1.png)\nテストケース2：\n初期状態：モンスターは頂点 $\\{2\\}$ にいます。1つのパスが必要です：$1 \\to 2$。答えは $1$ です。\nクエリ1 ($v=2$) の後：モンスターはいません。パスは0本必要です。答えは $0$ です。\nクエリ2 ($v=1$) の後：モンスターは頂点 $\\{1,2\\}$ にいます。1つのパスが必要です：$1 \\to 2$。答えは $1$ です。",
    "Note Images": [
        "https://espresso.codeforces.com/5f5f0c1bbedfae3feff14a8bb7624de84e108092.png"
    ],
    "Language": "jp"
}