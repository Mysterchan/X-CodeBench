{
    "Title": "Squarepoint Challenge (Codeforces Round 1055, Div. 1 + Div. 2)",
    "Source": "codeforces",
    "Name": "Query Jungle",
    "Time Limit": "3 s",
    "Memory Limit": "1024 mb",
    "Problem Statement": "Oner 是一名打野玩家——一個在叢林中狩獵怪物的角色。考慮到他在叢林中看到的樹的數量，難怪他對樹查詢問題上癮。\n你將獲得一棵有 $n$ 個頂點的樹，根在頂點 $1$。每個頂點要麼包含一隻怪物，要麼不包含。\n你想要找到最小的整數 $k$，使得存在 $k$ 梯路滿足以下條件： \n- 每條路徑必須從根（頂點 $1$）開始。  \n- 每個包含怪物的頂點必須至少在這些路徑中的一條上。若一個頂點是路徑的頂點之一（包括其端點），則該頂點被視為包含在該路徑中。\n\n為了使這個問題更具挑戰性，你還必須回答 $q$ 個查詢。對於每個查詢，你將被給定一個頂點 $v$。對於 $v$ 的子樹中的每個頂點 $w$，其狀態將被反轉——包含怪物的將不再包含，未包含怪物的將開始包含。在每次查詢後，你必須使用更新後的狀態再次解決原始問題。\n請注意，查詢是累積的，因此每個查詢的影響將持續到未來的查詢中。",
    "Statement Images": [],
    "Constraints": "Time limit: 3 s\nMemory limit: 1024 mb",
    "IO Styles": "輸入\n每個測試包含多個測試案例。第一行包含測試案例的數量 $t$ （$1 ≤ t ≤ 20\\,000$）。接下來是測試案例的描述。\n第一行包含一個整數 $n$ （$2 ≤ n ≤ 250\\,000$）— 樹中的頂點數量。\n下一行包含 $n$ 個整數 $a_1, a_2, ..., a_n$ （$a_i \\in \\{0, 1\\}$），表示初始狀態。如果 $a_i = 1$，則頂點 $i$ 包含一隻怪物；如果 $a_i = 0$，則不包含。\n接下來的 $n-1$ 行每行包含兩個整數 $u$ 和 $v$ （$1 ≤ u, v ≤ n, u \\ne v$），描述頂點 $u$ 和 $v$ 之間的邊。保證這些邊形成一棵樹。\n下一行包含一個整數 $q$ （$0 ≤ q ≤ 250\\,000$）— 查詢的數量。\n接下來的 $q$ 行每行包含一個整數 $v_i$ （$1 ≤ v_i ≤ n$）— 第 $i$ 個查詢給定的頂點。\n保證所有測試案例中的 $n$ 的總和不超過 $250\\,000$。\n保證所有測試案例中的 $q$ 的總和不超過 $250\\,000$。\n輸出\n輸出 $q + 1$ 行。第一行應包含初始狀態的最小路徑數 $k$。每一後續行應該包含每次查詢之後的答案。",
    "Sample Detail": [
        {
            "input": "2\n7\n0 1 0 1 1 0 0\n1 6\n1 7\n7 3\n3 2\n7 5\n5 4\n4\n2\n4\n6\n7\n2\n0 1\n1 2\n2\n2\n1",
            "output": "2\n1\n1\n2\n3\n1\n0\n1",
            "explanation": "",
            "images": []
        }
    ],
    "Notes": "註解\n測試案例 1：\n初始狀態：怪物位於頂點 $\\{2, 4, 5\\}$。我們需要兩條路徑：$1 \\to 7 \\to 3 \\to 2$ 和 $1 \\to 7 \\to 5 \\to 4$。答案是 $2$。\n在查詢 1 後 ($v=2$)：怪物位於頂點 $\\{4, 5\\}$。我們只需要一條路徑，$1 \\to 7 \\to 5 \\to 4$。答案是 $1$。\n在查詢 2 後 ($v=4$)：怪物位於頂點 $\\{5\\}$。我們只需要一條路徑，$1 \\to 7 \\to 5$。答案是 $1$。\n在查詢 3 後 ($v=6$)：怪物位於頂點 $\\{5, 6\\}$。我們需要兩條路徑，$1 \\to 7 \\to 5$ 和 $1 \\to 6$。答案是 $2$。\n在查詢 4 後 ($v=7$)：怪物位於頂點 $\\{2, 3, 4, 6, 7\\}$。我們需要三條路徑，$1 \\to 6$，$1 \\to 7 \\to 5 \\to 4$，和 $1 \\to 7 \\to 3 \\to 2$。答案是 $3$。\n下圖表示示例輸入中的樹。  ![image](1.png) \n測試案例 2：\n初始狀態：怪物位於頂點 $\\{2\\}$。我們需要一條路徑：$1 \\to 2$。答案是 $1$。\n在查詢 1 後 ($v=2$)：沒有怪物。我們需要零條路徑。答案是 $0$。\n在查詢 2 後 ($v=1$)：怪物位於頂點 $\\{1,2\\}$。我們需要一條路徑：$1 \\to 2$。答案是 $1$。",
    "Note Images": [
        "https://espresso.codeforces.com/5f5f0c1bbedfae3feff14a8bb7624de84e108092.png"
    ],
    "Language": "cn"
}