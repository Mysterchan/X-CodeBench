{
    "Title": "AtCoder Regular Contest 204 (Div. 1)",
    "Source": "atcoder",
    "Name": "Maximize Sum of Mex",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "Вам дано положительное целое число N и перестановка P = (P_{1}, P_{2}, \\dots, P_{N}) чисел (1, 2, \\dots , N).\nОбработайте Q запросов. В каждом запросе даны неотрицательные целые числа A_{0}, A_{1}, A_{2}, поэтому необходимо вывести ответ на следующую задачу. Гарантируется, что A_{0} + A_{1} + A_{2} = N.\nПоследовательность B длины N называется хорошей последовательностью, если и только если она удовлетворяет всем следующим условиям:\n- Существует ровно A_{0} целых чисел i, таких что 1 ≤ i ≤ N и B_{i} = 0.\n- Существует ровно A_{1} целых чисел i, таких что 1 ≤ i ≤ N и B_{i} = 1.\n- Существует ровно A_{2} целых чисел i, таких что 1 ≤ i ≤ N и B_{i} = 2.\nДля последовательности B длины N, оценка определяется следующим образом:\n- \\displaystyle\\sum_{i = 1}^{N}\\mathrm{MEX}(B_{i}, B_{P_{i}})\nЗдесь \\mathrm{MEX}(x, y) определяется как минимальное неотрицательное целое число, которое не равно ни x, ни y.\nНайдите максимальное значение оценки среди всех хороших последовательностей.",
    "Statement Images": [],
    "Constraints": "- $1 ≤ N ≤ 3 \\times 10^{5}$\n- $(P_{1}, P_{2}, \\dots , P_{N})$ является перестановкой чисел $(1, 2, \\dots , N)$.\n- $1 ≤ Q ≤ 3 \\times 10^{5}$\n- $0 ≤ A_{i}$\n- Для каждого запроса выполняется равенство $A_{0} + A_{1} + A_{2} = N$.\n- Все входные значения являются целыми числами.",
    "IO Styles": "Входные данные\nВходные данные подаются из стандартного ввода в следующем формате:\nN\nP_{1} P_{2} \\dots P_{N}\nQ\nquery_{1}\nquery_{2}\n\\cdots\nquery_{Q}\nЗдесь query_{i} — это i-й запрос, заданный в следующем формате:\nA_{0} A_{1} A_{2}\nВыходные данные\nВыходите Q строк. i-я строка должна содержать ответ на i-й запрос.",
    "Sample Detail": [
        {
            "input": "3\n2 3 1\n2\n1 1 1\n1 0 2\n",
            "output": "3\n2\n",
            "explanation": "Для первого запроса последовательность B = (0, 1, 2) является хорошей. Очко этой последовательности равно \\mathrm{MEX}(0, 1) + \\mathrm{MEX}(1, 2) + \\mathrm{MEX}(2, 0) = 2 + 0 + 1 = 3, что равно 3. Нет хорошей последовательности с очком больше 3, поэтому выведите 3 в первой строке.",
            "images": []
        },
        {
            "input": "7\n6 3 4 5 2 1 7\n4\n2 2 3\n4 1 2\n0 3 4\n1 2 4\n",
            "output": "8\n9\n0\n4\n",
            "explanation": "",
            "images": []
        },
        {
            "input": "9\n1 6 7 3 5 8 9 2 4\n10\n5 3 1\n0 7 2\n0 6 3\n1 3 5\n4 0 5\n4 2 3\n1 5 3\n4 5 0\n2 2 5\n2 5 2\n",
            "output": "14\n0\n0\n4\n7\n11\n4\n13\n8\n8\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "ru"
}