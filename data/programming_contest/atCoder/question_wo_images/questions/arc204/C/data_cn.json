{
    "Title": "AtCoder Regular Contest 204 (Div. 1)",
    "Source": "atcoder",
    "Name": "Maximize Sum of Mex",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "你有一個正整數 N 和一個排列 P = (P_{1}, P_{2}, \\dots, P_{N})，它是 (1, 2, \\dots , N) 的排列。\n處理 Q 個查詢。在每個查詢中，給定非負整數 A_{0}, A_{1}, A_{2}，因此輸出以下問題的答案。保證 A_{0} + A_{1} + A_{2} = N。\n一個長度為 N 的序列 B 被稱為良好序列當且僅當它滿足以下所有條件：\n- 恰好有 A_{0} 個整數 i，滿足 1 ≤ i ≤ N 且 B_{i} = 0。\n- 恰好有 A_{1} 個整數 i，滿足 1 ≤ i ≤ N 且 B_{i} = 1。\n- 恰好有 A_{2} 個整數 i，滿足 1 ≤ i ≤ N 且 B_{i} = 2。\n對於一個長度為 N 的序列 B，得分定義如下：\n- \\displaystyle\\sum_{i = 1}^{N}\\mathrm{MEX}(B_{i}, B_{P_{i}})\n這裡，\\mathrm{MEX}(x, y) 被定義為既不是 x 也不是 y 的最小非負整數。\n找到所有良好序列中得分的最大值。",
    "Statement Images": [],
    "Constraints": "- 1≤ N≤ 3\\times 10^{5}\n- (P_{1}, P_{2}, \\dots , P_{N}) 是 (1, 2, \\dots , N) 的一個排列。\n- 1≤ Q≤ 3\\times 10^{5}\n- 0≤ A_{i}\n- 對於每個查詢，A_{0} + A_{1} + A_{2} = N。\n- 所有輸入值都是整數。",
    "IO Styles": "輸入\n輸入是以以下格式從標準輸入給出：\nN\nP_{1} P_{2} \\dots P_{N}\nQ\nquery_{1}\nquery_{2}\n\\cdots\nquery_{Q}\n其中 query_{i} 是第 i 個查詢，格式如下：\nA_{0} A_{1} A_{2}\n輸出\n輸出 Q 行。第 i 行應該包含第 i 個查詢的答案。",
    "Sample Detail": [
        {
            "input": "3\n2 3 1\n2\n1 1 1\n1 0 2\n",
            "output": "3\n2\n",
            "explanation": "對於第一個查詢，B = (0, 1, 2) 是一個良好的序列。這個序列的分數是 \\mathrm{MEX}(0, 1) + \\mathrm{MEX}(1, 2) + \\mathrm{MEX}(2, 0) = 2 + 0 + 1 = 3，總分為 3。沒有分數大於 3 的良好序列，因此在第一行輸出 3。",
            "images": []
        },
        {
            "input": "7\n6 3 4 5 2 1 7\n4\n2 2 3\n4 1 2\n0 3 4\n1 2 4\n",
            "output": "8\n9\n0\n4\n",
            "explanation": "",
            "images": []
        },
        {
            "input": "9\n1 6 7 3 5 8 9 2 4\n10\n5 3 1\n0 7 2\n0 6 3\n1 3 5\n4 0 5\n4 2 3\n1 5 3\n4 5 0\n2 2 5\n2 5 2\n",
            "output": "14\n0\n0\n4\n7\n11\n4\n13\n8\n8\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "cn"
}