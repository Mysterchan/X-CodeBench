{
    "Title": "AtCoder Regular Contest 190 (Div. 1)",
    "Source": "atcoder",
    "Name": "Matrix Pow Sum",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "給定一個質數 p 和一個 N \\times N 矩陣 A = (A_{i,j}) (1≤ i,j≤ N)。矩陣 A 的每個元素都是介於 0 和 p-1 之間的整數，包括 0 和 p-1。\n考慮一個矩陣 B，該矩陣通過將 A 中的每個零替換為介於 1 和 p-1 之間的整數，包括 1 和 p-1 來得到。此類矩陣 B 的數量為 (p-1)^K，其中 K 是 A 中零的數量。\n找出所有可能的 B 的 B^p 之和的每個元素，對 p 取模。",
    "Statement Images": [],
    "Constraints": "- 1 ≤ N ≤ 100  \n- p 是一個質數，滿足 1 ≤ p ≤ 10^9。  \n- 0 ≤ A_{i,j} ≤ p-1  \n- 所有輸入值都是整數。",
    "IO Styles": "輸入\n輸入是以以下格式從標準輸入給出：\nN p\nA_{1,1} \\cdots A_{1,N}\n\\vdots\nA_{N,1} \\cdots A_{N,N}\n輸出\n打印 N 行。\n第 i 行應包含，按照 j=1,...,N 的順序，所有可能 B 的 B^p 的總和的 (i,j) 元素，對 p 取模，並用空格分隔。",
    "Sample Detail": [
        {
            "input": "2 3\n0 1\n0 2\n",
            "output": "0 2\n1 2\n",
            "explanation": "對所有可能的 B，B^p 如下：\n\n- \\begin{pmatrix}1&1 \\\\ 1&2\\end{pmatrix}^3=\\begin{pmatrix}5&8 \\\\ 8&13\\end{pmatrix}\n- \\begin{pmatrix}1&1 \\\\ 2&2\\end{pmatrix}^3=\\begin{pmatrix}9&9 \\\\ 18&18\\end{pmatrix}\n- \\begin{pmatrix}2&1 \\\\ 1&2\\end{pmatrix}^3=\\begin{pmatrix}14&13 \\\\ 13&14\\end{pmatrix}\n- \\begin{pmatrix}2&1 \\\\ 2&2\\end{pmatrix}^3=\\begin{pmatrix}20&14 \\\\ 28&20\\end{pmatrix}\n\n打印它們的和 \\begin{pmatrix}48&44 \\\\ 67&65\\end{pmatrix} 的每個元素，取模 p=3。",
            "images": []
        },
        {
            "input": "3 2\n1 0 0\n0 1 0\n0 0 1\n",
            "output": "1 1 1\n1 1 1\n1 1 1\n",
            "explanation": "對於所有可能的 B，B^p 如下所示：\n\n- \\begin{pmatrix}1&1&1 \\\\ 1&1&1 \\\\ 1&1&1\\end{pmatrix}^2=\\begin{pmatrix}3&3&3\\\\3&3&3\\\\3&3&3\\end{pmatrix}\n\n打印其和 \\begin{pmatrix}3&3&3\\\\3&3&3\\\\3&3&3\\end{pmatrix} 的每個元素，取模 p=2。",
            "images": []
        },
        {
            "input": "4 13\n0 1 2 0\n3 4 0 5\n0 6 0 7\n8 9 0 0\n",
            "output": "8 0 6 5\n11 1 8 5\n8 0 4 12\n8 0 1 9\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "cn"
}