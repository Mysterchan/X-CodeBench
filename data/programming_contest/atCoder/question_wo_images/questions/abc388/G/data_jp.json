{
    "Title": "HHKBプログラミングコンテスト2025(AtCoder Beginner Contest 388)",
    "Source": "atcoder",
    "Name": "Simultaneous Kagamimochi 2",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "N 個の餅が小さいほうから順に並んでいます。\ni 番目 (1≤ i≤ N) の餅の大きさは A _ i です。\n2 つの餅 A,B の大きさをそれぞれ a,b としたとき、a が b の半分以下であるとき、かつそのときに限り、餅 A を餅 B の上に乗せて鏡餅を 1 つ作ることができます。\n整数の 2 つ組が Q 個与えられます。\ni 番目 (1≤ i≤ Q) の 2 つ組を (L _ i,R _ i) として、次の問題をすべての i について解いてください。\nL _ i 番目から R _ i 番目までの R _ i-L _ i+1 個の餅だけを使って、同時にいくつの鏡餅を作ることができるか求めてください。\nより厳密には、以下ができるような最大の非負整数 K を求めてください。\n- L _ i 番目から R _ i 番目までの R _ i-L _ i+1 個の餅から 2K 個の餅を選んで K 個の 2 つ組に分け、それぞれの組について一方をもう一方の上に乗せることで鏡餅を K 個作る。",
    "Statement Images": [],
    "Constraints": "- 2≤ N≤ 2\\times 10 ^ 5\n- 1≤ A _ i≤ 10 ^ 9\\ (1≤ i≤ N)\n- A _ i≤ A _ {i+1}\\ (1≤ i\\lt N)\n- 1≤ Q≤ 2\\times 10 ^ 5\n- 1≤ L _ i\\lt R _ i≤ N\\ (1≤ i≤ Q)\n- 入力はすべて整数",
    "IO Styles": "入力\n入力は以下の形式で標準入力から与えられる。\nN\r\nA _ 1 A _ 2 \\dotsc A _ N\r\nQ\r\nL _ 1 R _ 1\r\nL _ 2 R _ 2\r\n\\vdots\r\nL _ Q R _ Q\r\n出力\nQ 行出力せよ。\r\ni 行目 (1≤ i≤ Q) には、i 番目の 2 つ組に対応する問題の答えを出力せよ。",
    "Sample Detail": [
        {
            "input": "11\n1 1 2 3 4 4 7 10 11 12 20\n5\n2 5\n3 8\n7 11\n1 2\n1 11\n",
            "output": "2\n3\n1\n0\n5\n",
            "explanation": "それぞれの問題に対する答えは以下のようになります。\r\n鏡餅の作り方は一例です。\n\n- それぞれの餅の大きさは (1,2,3,4) です。(1,3),(2,4) の 2 つの鏡餅を作ることができます。\n- それぞれの餅の大きさは (2,3,4,4,7,10) です。(2,4),(3,7),(4,10) の 3 つの鏡餅を作ることができます。\n- それぞれの餅の大きさは (7,10,11,12,20) です。(10,20) の 1 つの鏡餅を作ることができます。\n- それぞれの餅の大きさは (1,1) です。1 つも鏡餅を作ることができません。\n- それぞれの餅の大きさは (1,1,2,3,4,4,7,10,11,12,20) です。(1,2),(1,3),(4,10),(4,11),(7,20) の 5 つの鏡餅を作ることができます。\n\n\n以上より、2 3 1 0 5 をこの順に出力してください。",
            "images": []
        },
        {
            "input": "24\n127 148 170 174 258 311 331 414 416 436 517 523 532 587 591 638 660 748 760 776 837 857 972 984\n15\n7 11\n8 9\n8 13\n12 15\n9 23\n1 17\n8 12\n1 5\n6 17\n3 7\n12 19\n13 18\n7 22\n1 12\n14 15\n",
            "output": "0\n0\n0\n0\n2\n6\n0\n1\n1\n0\n0\n0\n3\n5\n0\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "jp"
}