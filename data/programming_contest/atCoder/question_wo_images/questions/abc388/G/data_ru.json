{
    "Title": "HHKB Programming Contest 2025(AtCoder Beginner Contest 388)",
    "Source": "atcoder",
    "Name": "Simultaneous Kagamimochi 2",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "Есть N моти (рисовые пирожные), расположенные в порядке возрастания размера. Размер i-го моти (1≤ i≤ N) равен A_i. Даны два моти A и B, размеры которых равны a и b соответственно, можно сделать один какамимоци (слоёный рисовый пирог), поместив моти A сверху на моти B, если и только если a не больше половины b. Вам даны Q пар целых чисел. Пусть (L_i, R_i) — i-я пара (1≤ i≤ Q), и решите следующую задачу для каждого i: используя только R_i - L_i + 1 моти с L_i-го по R_i-й, сколько какамимоци можно сделать одновременно? Более точно, найдите максимальное ненегативное целое число K такое, что:\n- Из R_i - L_i + 1 моти с L_i-го по R_i-й выберите 2K моти и сформируйте K пар. Для каждой пары положите одно моти сверху на другое, чтобы сделать K какамимоци.",
    "Statement Images": [],
    "Constraints": "- 2 ≤ N ≤ 2 \\times 10^5\n- 1 ≤ A_i ≤ 10^9 \\ (1 ≤ i ≤ N)\n- A_i ≤ A_{i+1} \\ (1 ≤ i < N)\n- 1 ≤ Q ≤ 2 \\times 10^5\n- 1 ≤ L_i < R_i ≤ N \\ (1 ≤ i ≤ Q)\n- Все входные значения являются целыми числами.",
    "IO Styles": "Входные данные\nВходные данные поступают из стандартного ввода в следующем формате:\nN  \nA_1 A_2 \\dotsc A_N  \nQ  \nL_1 R_1  \nL_2 R_2  \n\\vdots  \nL_Q R_Q  \nВыходные данные\nВыведите Q строк. i-я строка (1≤ i≤ Q) должна содержать ответ на i-й запрос.",
    "Sample Detail": [
        {
            "input": "11\n1 1 2 3 4 4 7 10 11 12 20\n5\n2 5\n3 8\n7 11\n1 2\n1 11\n",
            "output": "2\n3\n1\n0\n5\n",
            "explanation": "Ответы на каждый запрос следующие. Для каждого запроса приведён один из возможных способов сделать какамимоти.\n\n- Размеры мокки: (1, 2, 3, 4). Вы можете сделать два какамимоти (1,3) и (2,4).\n- Размеры мокки: (2, 3, 4, 4, 7, 10). Вы можете сделать три какамимоти (2,4), (3,7) и (4,10).\n- Размеры мокки: (7, 10, 11, 12, 20). Вы можете сделать одно какамимоти (10,20).\n- Размеры мокки: (1, 1). Вы не можете сделать никакие какамимоти.\n- Размеры мокки: (1, 1, 2, 3, 4, 4, 7, 10, 11, 12, 20). Вы можете сделать пять какамимоти (1,2), (1,3), (4,10), (4,11) и (7,20).\n\nТаким образом, выведите 2, 3, 1, 0, 5 в этом порядке.",
            "images": []
        },
        {
            "input": "24\n127 148 170 174 258 311 331 414 416 436 517 523 532 587 591 638 660 748 760 776 837 857 972 984\n15\n7 11\n8 9\n8 13\n12 15\n9 23\n1 17\n8 12\n1 5\n6 17\n3 7\n12 19\n13 18\n7 22\n1 12\n14 15\n",
            "output": "0\n0\n0\n0\n2\n6\n0\n1\n1\n0\n0\n0\n3\n5\n0\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "ru"
}