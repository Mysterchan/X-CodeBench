{
    "Title": "鹿島建設プログラミングコンテスト2025（AtCoder Beginner Contest 394）",
    "Source": "atcoder",
    "Name": "Alkane",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "N 頂点の無向木 T が与えられます。頂点には 1, 2, ..., N の番号が付いており、i 番目の辺は頂点 A_i と頂点 B_i を結ぶ無向辺です。\nグラフがアルカンであるとは以下の条件をともに満たしていることであると定義します。\n- グラフは無向木である\n- すべての頂点の次数が 1 または 4 であり、次数 4 の頂点が 1 つ以上存在する\nT の部分グラフであってアルカンであるものが存在するか判定し、存在する場合はそのようなものの頂点数の最大値を求めてください。",
    "Statement Images": [],
    "Constraints": "- 1 ≤ N ≤ 2 \\times 10^5\n- 1 ≤ A_i, B_i ≤ N\n- 与えられるグラフは無向木\n- 入力される値はすべて整数",
    "IO Styles": "入力\n入力は以下の形式で標準入力から与えられる。\nN\r\nA_1 B_1\r\nA_2 B_2\r\n\\vdots\r\nA_{N - 1} B_{N - 1}\r\n出力\nT の部分グラフであってアルカンであるものが存在する場合はそのようなものの頂点数の最大値を出力せよ。そうでない場合は -1 と出力せよ。",
    "Sample Detail": [
        {
            "input": "9\n1 2\n2 3\n3 4\n4 5\n2 6\n2 7\n3 8\n3 9\n",
            "output": "8\n",
            "explanation": "頂点 u と頂点 v を結ぶ無向辺を辺 (u, v) と表記します。\n\n頂点 1,2,3,4,6,7,8,9、辺 (1,2),(2,3),(3,4),(2,6),(2,7),(3,8),(3,9) からなる部分グラフはアルカンです。",
            "images": []
        },
        {
            "input": "7\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7\n",
            "output": "-1\n",
            "explanation": "",
            "images": []
        },
        {
            "input": "15\n8 5\n2 9\n1 12\n6 11\n9 3\n15 1\n7 12\n7 13\n10 5\n6 9\n5 1\n1 9\n4 5\n6 14\n",
            "output": "11\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "jp"
}