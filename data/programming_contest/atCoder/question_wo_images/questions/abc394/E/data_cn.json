{
    "Title": "KAJIMA CORPORATION CONTEST 2025 (AtCoder Beginner Contest 394)",
    "Source": "atcoder",
    "Name": "Palindromic Shortest Path",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "我們有一個有向圖，包含 N 個頂點，編號為 1, 2, ..., N。\n邊的資訊由 N^2 個字元 C_{1, 1}, C_{1, 2}, ..., C_{1, N}, C_{2, 1}, ..., C_{N, N} 組成。這裡，每個 C_{i, j} 要麼是小寫英文字母，要麼是 -。\n如果 C_{i, j} 是小寫英文字母，那麼從頂點 i 到頂點 j 存在一條標記為 C_{i, j} 的恰好一條有向邊。如果 C_{i, j} 是 -，那麼從頂點 i 到頂點 j 沒有邊。\n對於每一對整數 (i, j)，其中 1 ≤ i, j ≤ N，回答以下問題：\n- 在所有從頂點 i 到頂點 j 的（不一定是簡單的）路徑中，邊上的標籤串聯所形成的串是否為回文，找出這樣的最短路徑的長度。如果不存在這樣的路徑，答案為 -1。",
    "Statement Images": [],
    "Constraints": "- 1 ≤ N ≤ 100\n- N 是一個整數。\n- 每個 C_{i, j} 要麼是一個小寫英文字母，要麼是 -。",
    "IO Styles": "輸入\n輸入是以以下格式從標準輸入給出：\nN\nC_{1, 1}C_{1, 2}...C_{1, N}\nC_{2, 1}C_{2, 2}...C_{2, N}\n\\vdots\nC_{N, 1}C_{N, 2}...C_{N, N}\n\n輸出\n令 A_{i, j} 為對於 (i, j) 這對的問題的答案。以以下格式輸出：\nA_{1, 1} A_{1, 2} ... A_{1, N}\nA_{2, 1} A_{2, 2} ... A_{2, N}\n\\vdots\nA_{N, 1} A_{N, 2} ... A_{N, N}",
    "Sample Detail": [
        {
            "input": "4\nab--\n--b-\n---a\nc---\n",
            "output": "0 1 2 4\n-1 0 1 -1\n3 -1 0 1\n1 -1 -1 0\n",
            "explanation": "例如，考慮情況 (i, j) = (1, 4)。\n通過路徑 1 \\to 1 \\to 2 \\to 3 \\to 4，並按順序連接邊上的標籤，我們得到字符串 abba，這是一個回文。\n從頂點 1 到頂點 4 的長度不超過 3 的路徑中不存在其標籤的連接是回文的。因此，(1, 4) 的答案是 4。\n\n請注意，空字符串也是回文。",
            "images": []
        },
        {
            "input": "5\nus---\n-st--\n--s--\nu--s-\n---ts\n",
            "output": "0 1 3 -1 -1\n-1 0 1 -1 -1\n-1 -1 0 -1 -1\n1 3 -1 0 -1\n-1 -1 5 1 0\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "cn"
}