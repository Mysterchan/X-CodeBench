{
    "Title": "KAJIMA CORPORATION CONTEST 2025 (AtCoder Beginner Contest 394)",
    "Source": "atcoder",
    "Name": "Palindromic Shortest Path",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "We have a directed graph with N vertices, numbered 1, 2, ..., N.\nInformation about the edges is given by N^2 characters C_{1, 1}, C_{1, 2}, ..., C_{1, N}, C_{2, 1}, ..., C_{N, N}. Here, each C_{i, j} is either a lowercase English letter or -.\nIf C_{i, j} is a lowercase English letter, then there is exactly one directed edge from vertex i to vertex j labeled C_{i, j}. If C_{i, j} is -, there is no edge from vertex i to vertex j.\nFor each integer pair (i, j) with 1 ≤ i, j ≤ N, answer the following question:\n- Among all (not necessarily simple) paths from vertex i to vertex j whose concatenation of labels on the edges forms a palindrome, what is the length of the shortest such path? If there is no such path, the answer is -1.",
    "Statement Images": [],
    "Constraints": "- 1 ≤ N ≤ 100\n- N is an integer.\n- Each C_{i, j} is either a lowercase English letter or -.",
    "IO Styles": "Input\nThe input is given from Standard Input in the following format:\nN\r\nC_{1, 1}C_{1, 2}...C_{1, N}\r\nC_{2, 1}C_{2, 2}...C_{2, N}\r\n\\vdots\r\nC_{N, 1}C_{N, 2}...$C_{N, N}\r\nOutput\nLet A_{i, j} be the answer to the question for the pair (i, j). Print them in the following format:\nA_{1, 1} A_{1, 2} ... A_{1, N}\r\nA_{2, 1} A_{2, 2} ... A_{2, N}\r\n\\vdots\r\nA_{N, 1} A_{N, 2} ... A_{N, N}$",
    "Sample Detail": [
        {
            "input": "4\nab--\n--b-\n---a\nc---\n",
            "output": "0 1 2 4\n-1 0 1 -1\n3 -1 0 1\n1 -1 -1 0\n",
            "explanation": "For example, consider the case (i, j) = (1, 4).\r\nBy taking the path 1 \\to 1 \\to 2 \\to 3 \\to 4, and concatenating the labels on its edges in order, we get the string abba, which is a palindrome.\r\nThere is no path of length at most 3 from vertex 1 to vertex 4 whose concatenation of labels is a palindrome. Thus, the answer for (1, 4) is 4.\n\nNote that the empty string is also a palindrome.",
            "images": []
        },
        {
            "input": "5\nus---\n-st--\n--s--\nu--s-\n---ts\n",
            "output": "0 1 3 -1 -1\n-1 0 1 -1 -1\n-1 -1 0 -1 -1\n1 3 -1 0 -1\n-1 -1 5 1 0\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "en"
}