{
    "Title": "KAJIMA CORPORATION CONTEST 2025 (AtCoder Beginner Contest 394)",
    "Source": "atcoder",
    "Name": "Dense Buildings",
    "Time Limit": "5 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "城市被劃分為 H × W 的區塊，並且每個區塊中都有一棟建築。在從北方的第 i 行 (1≤ i≤ H) 和從西方的第 j 列 (1≤ j≤ W) 的區塊中（以下稱為區塊 (i,j)），該區塊有一棟 F_{i,j} 樓的建築。 \n\nTakahashi 有兩種移動方式。如果他在區塊 (i,j) 的 X 層樓 (1≤ X≤ F_{i,j}) 中，他可以：\n- 在同一棟建築中使用樓梯上下移動一層樓。如果 X=1，他無法向下移動；如果 X=F_{i,j}，他無法向上移動。\n- 選擇一個在相鄰區塊中至少有 X 層樓的建築，並利用 (空中) 走道移動到該建築的 X 層樓。\n\n在這裡，兩個區塊 (i,j) 和 (i',j') 只有在 \\lvert i - i'\\rvert + \\lvert j - j'\\rvert = 1 時才是相鄰的。\n\n給定 Q 個查詢要被回答。第 i 個查詢 (1≤ i≤ Q) 為：\n找出 Takahashi 從區塊 (A_i,B_i) 的 Y_i 層樓移動到區塊 (C_i,D_i) 的 Z_i 層樓所需使用樓梯的最少次數。 \n\n使用樓梯的次數每當他上下移動一層樓時增加，可能在同一棟建築內多次移動。（例如，從一樓移動到六樓計算為 5 次使用樓梯。） \n\n請注意，他無需最小化使用走道的次數。",
    "Statement Images": [],
    "Constraints": "- 1≤ H ≤ 500  \n- 1≤ W ≤ 500  \n- 1≤ F_{i,j} ≤ 10^6  \n- 1≤ Q≤ 2\\times 10^5  \n- 1≤ A_i,C_i≤ H  \n- 1≤ B_i,D_i≤ W  \n- 1≤ Y_i≤ F_{A_i,B_i}  \n- 1≤ Z_i≤ F_{C_i,D_i}  \n- (A_i,B_i,Y_i)≠ (C_i,D_i,Z_i)  \n- 所有輸入值均為整數。",
    "IO Styles": "輸入\n輸入是以以下格式從標準輸入給出：\nH W\nF_{1,1} F_{1,2} ... F_{1,W}\nF_{2,1} F_{2,2} ... F_{2,W}\n\\vdots\nF_{H,1} F_{H,2} ... F_{H,W}\nQ\nA_1 B_1 Y_1 C_1 D_1 Z_1\nA_2 B_2 Y_2 C_2 D_2 Z_2\n\\vdots\nA_Q B_Q Y_Q C_Q D_Q Z_Q\n輸出\n打印 Q 行。第 i 行應該包含對第 i 個查詢的答案，顯示為一個整數。",
    "Sample Detail": [
        {
            "input": "3 3\n12 10 6\n1 1 3\n8 6 7\n2\n1 1 10 3 1 6\n1 1 6 1 2 4\n",
            "output": "10\n2\n",
            "explanation": "對於第一個查詢，例如，可以通過總共使用樓梯10次，以以下方式從(1,1)區塊的建築物第10層移動到(3,1)區塊的建築物第6層：\n\n- 通過連通道從(1,1)區塊的建築物第10層移動到(1,2)區塊的建築物第10層。\n- 使用樓梯4次從第10層下降到(1,2)區塊的建築物第6層。\n- 通過連通道從(1,2)區塊的建築物第6層移動到(1,3)區塊的建築物第6層。\n- 使用樓梯3次從第6層下降到(1,3)區塊的建築物第3層。\n- 通過連通道從(1,3)區塊的建築物第3層移動到(2,3)區塊的建築物第3層。\n- 通過連通道從(2,3)區塊的建築物第3層移動到(3,3)區塊的建築物第3層。\n- 使用樓梯3次從第3層上升到(3,3)區塊的建築物第6層。\n- 通過連通道從(3,3)區塊的建築物第6層移動到(3,2)區塊的建築物第6層。\n- 通過連通道從(3,2)區塊的建築物第6層移動到(3,1)區塊的建築物第6層。\n\n不可能只使用最多9次樓梯完成這次旅程，因此我們輸出10。\n\n對於第二個查詢，如果您首先使用連通道前往(1,2)區塊的建築物，然後使用樓梯兩次從第6層下降到第4層，那麼可以使用樓梯兩次，從(1,1)區塊的建築物第6層移動到(1,2)區塊的建築物第4層。",
            "images": []
        }
    ],
    "Language": "cn"
}