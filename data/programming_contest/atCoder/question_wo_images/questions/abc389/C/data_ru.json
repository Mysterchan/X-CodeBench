{
    "Title": "Toyota Programming Contest  2025（AtCoder Beginner Contest 389)",
    "Source": "atcoder",
    "Name": "Snake Queue",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "В очереди находятся змеи. Изначально очередь пуста.\nВам дается Q запросов, которые должны обрабатываться в порядке их поступления. Существует три типа запросов:\n- Тип 1: Записан в виде 1 l. Змея длиной l добавляется в конец очереди. Если очередь была пуста до добавления, координата головы новосозданной змеи равна 0; в противном случае, это сумма координаты головы последней змеи в очереди и длины последней змеи.\n- Тип 2: Записан в виде 2. Змея, находящаяся в начале очереди, покидает очередь. Гарантируется, что в это время очередь не пуста. Пусть m будет длиной змеи, которая покинула очередь, тогда координата головы каждой оставшейся змеи в очереди уменьшается на m.\n- Тип 3: Записан в виде 3 k. Выведите координату головы змеи, которая является k-й от начала очереди. Гарантируется, что в это время в очереди есть как минимум k змей.",
    "Statement Images": [],
    "Constraints": "- $1 ≤ Q ≤ 3 \\times 10^{5}$\n- Для запроса типа 1, $1 ≤ l ≤ 10^{9}$\n- Для запроса типа 2 гарантируется, что очередь не пуста.\n- Для запроса типа 3, пусть $n$ — это количество змей в очереди, тогда $1 ≤ k ≤ n$. \n- Все входные значения являются целыми числами.",
    "IO Styles": "Входные данные\nВходные данные предоставляются из стандартного ввода в следующем формате:\nQ\n\\text{query}_1\n\\text{query}_2\n\\vdots\n\\text{query}_Q\nЗдесь \\text{query}_i — это i-й запрос в одной из следующих форм:\n1 l\n2\n3 k\nВыходные данные\nОбозначим q как количество запросов типа 3. Выведите q строк. i-я строка должна содержать ответ на i-й запрос типа 3.",
    "Sample Detail": [
        {
            "input": "7\n1 5\n1 7\n3 2\n1 3\n1 4\n2\n3 3\n",
            "output": "5\n10\n",
            "explanation": "- 1-й запрос: В очередь добавляется змея длиной 5. Поскольку очередь была пустой, координата головы этой змеи равна 0.\n- 2-й запрос: В очередь добавляется змея длиной 7. Перед добавлением, последняя змея имеет координату головы 0 и длину 5, поэтому координата головы вновь добавленной змеи равна 5.\n- 3-й запрос: Выведите координату головы змеи, которая находится второй с начала. В настоящее время координаты голов змей по порядку равны 0, 5, поэтому выведите 5.\n- 4-й запрос: В очередь добавляется змея длиной 3. Перед добавлением, последняя змея имеет координату головы 5 и длину 7, поэтому координата головы новой змеи равна 12.\n- 5-й запрос: В очередь добавляется змея длиной 4. Перед добавлением, последняя змея имеет координату головы 12 и длину 3, поэтому координата головы новой змеи равна 15.\n- 6-й запрос: Змея на переднем плане покидает очередь. Длина покинувшей змеи составляет 5, поэтому координата головы каждой оставшейся змеи уменьшается на 5. Координаты голов оставшихся змей становятся 0, 7, 10.\n- 7-й запрос: Выведите координату головы змеи, которая находится третьей с начала. В настоящее время координаты голов змей по порядку равны 0, 7, 10, поэтому выведите 10.",
            "images": []
        },
        {
            "input": "10\n1 15\n1 10\n1 5\n2\n1 5\n1 10\n1 15\n2\n3 4\n3 2\n",
            "output": "20\n5\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "ru"
}