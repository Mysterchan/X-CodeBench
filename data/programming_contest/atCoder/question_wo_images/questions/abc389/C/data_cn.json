{
    "Title": "Toyota Programming Contest  2025（AtCoder Beginner Contest 389)",
    "Source": "atcoder",
    "Name": "Snake Queue",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "有一條蛇的隊列。最初，隊列是空的。\n你將收到 Q 個查詢，這些查詢應按照給定的順序處理。有三種類型的查詢：\n- 類型 1：格式為 1 l。長度為 l 的蛇被添加到隊列的末尾。如果在添加之前隊列是空的，則新添加的蛇的頭部位置為 0；否則，它是隊列中最後一條蛇的頭部座標加上最後一條蛇的長度的總和。\n- 類型 2：格式為 2。隊列最前面的蛇離開隊列。這時保證隊列不是空的。設 m 為離開的蛇的長度，則隊列中每條剩餘蛇的頭部座標減少 m。\n- 類型 3：格式為 3 k。輸出隊列中第 k 條蛇的頭部座標。這時保證隊列中至少有 k 條蛇。",
    "Statement Images": [],
    "Constraints": "- 1 ≤ Q ≤ 3 \\times 10^{5}\n- 對於類型1的查詢，1 ≤ l ≤ 10^{9}\n- 對於類型2的查詢，保證隊列不為空。\n- 對於類型3的查詢，令 n 為隊列中的蛇的數量，則 1 ≤ k ≤ n。 \n- 所有輸入值均為整數。",
    "IO Styles": "輸入\n輸入是以以下格式從標準輸入給出：\nQ\n\\text{query}_1\n\\text{query}_2\n\\vdots\n\\text{query}_Q\n這裡，\\text{query}_i 是以下形式之一的第 i 個查詢：\n1 l\n2\n3 k\n輸出\n設 q 為類型 3 的查詢數量。輸出 q 行。第 i 行應包含第 i 個類型 3 查詢的答案。",
    "Sample Detail": [
        {
            "input": "7\n1 5\n1 7\n3 2\n1 3\n1 4\n2\n3 3\n",
            "output": "5\n10\n",
            "explanation": "- 第 1 次查詢：一條長度為 5 的蛇被加入隊列。由於隊列是空的，因此這條蛇的頭座標為 0。\n- 第 2 次查詢：一條長度為 7 的蛇被加入隊列。在添加之前，最後一條蛇的頭座標為 0，長度為 5，因此新添加的蛇的頭座標為 5。\n- 第 3 次查詢：輸出從前面算起的第 2 條蛇的頭座標。目前，蛇的頭座標按順序為 0, 5，因此輸出 5。\n- 第 4 次查詢：一條長度為 3 的蛇被加入隊列。在添加之前，最後一條蛇的頭座標為 5，長度為 7，因此新蛇的頭座標為 12。\n- 第 5 次查詢：一條長度為 4 的蛇被加入隊列。在添加之前，最後一條蛇的頭座標為 12，長度為 3，因此新蛇的頭座標為 15。\n- 第 6 次查詢：位於前面的蛇離開隊列。離開的蛇的長度為 5，因此每條剩餘蛇的頭座標都減少 5。剩下的蛇的頭座標變為 0, 7, 10。\n- 第 7 次查詢：輸出從前面算起的第 3 條蛇的頭座標。目前，蛇的頭座標按順序為 0, 7, 10，因此輸出 10。",
            "images": []
        },
        {
            "input": "10\n1 15\n1 10\n1 5\n2\n1 5\n1 10\n1 15\n2\n3 4\n3 2\n",
            "output": "20\n5\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "cn"
}