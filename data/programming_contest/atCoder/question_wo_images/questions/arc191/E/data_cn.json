{
    "Title": "AtCoder Regular Contest 191 (Div. 2)",
    "Source": "atcoder",
    "Name": "Unfair Game",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "給定正整數 N、X 和 Y，以及兩個長度為 N 的非負整數序列 A = (A_1, A_2, ..., A_N) 和 B = (B_1, B_2, ..., B_N)。  \n有 N 個袋子，編號從 1 到 N。最初，袋子 i 內含 A_i 個金幣和 B_i 個銀幣。  \n考慮以下由高橋（Takahashi）和青木（Aoki）使用這 N 個袋子進行的遊戲。首先，高橋選擇一些袋子（可能為零），而青木則選擇剩下的所有袋子。然後，遊戲由高橋開始，兩名玩家按順序執行以下操作：  \n- 選擇一個擁有至少一個金幣或銀幣的袋子，並對該袋子執行以下兩個操作之一：  \n  - 移除一個金幣並添加銀幣；對於高橋，需要添加 X 個銀幣，對於青木，則需要添加 Y 個銀幣。此操作僅在選擇的袋子中至少有一個金幣的情況下進行。  \n  - 移除一個銀幣。此操作僅在選擇的袋子中至少有一個銀幣的情況下進行。  \n- 然後，將選擇的袋子交給另一位玩家。  \n無法執行操作的玩家將輸掉遊戲。  \n找出高橋可以最初選擇袋子的方式數，模 998244353，以使他在兩位玩家都採取最佳玩法的情況下獲勝。",
    "Statement Images": [],
    "Constraints": "- 1 ≤ N ≤ 2\\times 10^5\n- 1 ≤ X, Y ≤ 10^9\n- 0 ≤ A_i, B_i ≤ 10^9\n- 所有輸入值均為整數。",
    "IO Styles": "輸入\n輸入是以以下格式從標準輸入給出：\nN X Y\nA_1 B_1\nA_2 B_2\n\\vdots\nA_N B_N\n\n輸出\n輸出Takahashi在雙方最佳玩法下，能夠獲勝的初始拿包方式的數量，取模998244353。",
    "Sample Detail": [
        {
            "input": "2 1 1\n1 0\n1 1\n",
            "output": "2\n",
            "explanation": "考慮以下情況：高橋最初選擇了袋子 1 和 2。遊戲的一個可能進展如下：\n\n- 高橋選擇袋子 2，移除 1 個金幣並添加 1 個銀幣。然後，他把袋子 2 給了青木。\n- 高橋持有袋子 1，裡面有 1 個金幣。青木持有袋子 2，裡面有 2 個銀幣。\n\n- 青木選擇袋子 2，移除 1 個銀幣。然後，把袋子 2 給了高橋。\n- 高橋持有袋子 1，裡面有 1 個金幣，以及袋子 2，裡面有 1 個銀幣。青木沒有持有任何袋子。\n\n- 高橋選擇袋子 1，移除 1 個金幣並添加 1 個銀幣。然後，他把袋子 1 給了青木。\n- 高橋持有袋子 2，裡面有 1 個銀幣。青木持有袋子 1，裡面有 1 個銀幣。\n\n- 青木選擇袋子 1，移除 1 個銀幣。然後，他把袋子 1 給了高橋。\n- 高橋持有的袋子 1 是空的，另外還有袋子 2，裡面有 1 個銀幣。青木沒有持有任何袋子。\n\n- 高橋選擇袋子 2，移除 1 個銀幣。然後，他把袋子 2 給了青木。\n- 高橋持有的袋子 1 是空的，青木持有的袋子 2 也是空的。\n\n- 青木無法執行操作，因此青木輸了，高橋贏了。\n\n高橋如果最初只拿袋子 2，或者拿了袋子 1 和 2，他都能贏。因此，答案是 2。",
            "images": []
        },
        {
            "input": "2 2 1\n1 2\n1 2\n",
            "output": "3\n",
            "explanation": "高橋如果最初選擇袋子 1、袋子 2 或兩者，都會獲勝。",
            "images": []
        },
        {
            "input": "5 8 3\n0 0\n0 0\n0 0\n0 0\n0 0\n",
            "output": "0\n",
            "explanation": "無論高橋最初選擇什麼袋子，他都會輸。",
            "images": []
        },
        {
            "input": "7 2025 191\n1323 9953\n2763 3225\n2624 5938\n6718 2998\n3741 7040\n9837 1681\n8817 4471\n",
            "output": "40\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "cn"
}