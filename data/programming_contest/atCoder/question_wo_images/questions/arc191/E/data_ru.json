{
    "Title": "AtCoder Regular Contest 191 (Div. 2)",
    "Source": "atcoder",
    "Name": "Unfair Game",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "Вам даны положительные целые числа N, X и Y, а также две последовательности длины N из неотрицательных целых чисел A = (A_1, A_2, ..., A_N) и B = (B_1, B_2, ..., B_N). \nСуществует N мешков, пронумерованных от 1 до N. Изначально мешок i содержит A_i золотых монет и B_i серебряных монет. \nРассмотрим следующую игру, в которую играют Такаши и Аоки, используя эти N мешков. Сначала Такаши выбирает некоторые из этих мешков (возможно, ноль), а Аоки берёт все оставшиеся мешки. Затем, начиная с Такаши, оба игрока поочерёдно выполняют следующую операцию:\n- Выберите один мешок, принадлежащий игроку, у которого в нем есть хотя бы одна золотая или серебряная монета, и выполните одно из двух следующих действий для этого мешка.\n- Уберите одну золотую монету и добавьте серебряные монеты; количество добавляемых серебряных монет составляет X для Такаши и Y для Аоки. Это действие может быть выполнено, только если выбранный мешок содержит хотя бы одну золотую монету.\n- Уберите одну серебряную монету. Это действие может быть выполнено, только если выбранный мешок содержит хотя бы одну серебряную монету.\n- Затем передайте выбранный мешок другому игроку.\nИгрок, который не может выполнить операцию, проигрывает игру.\nНайдите число способов, по модулю 998244353, которыми Такаши может изначально взять мешки так, чтобы он выиграл при оптимальной игре обоих игроков.",
    "Statement Images": [],
    "Constraints": "- 1 ≤ N ≤ 2\\times 10^5\n- 1 ≤ X, Y ≤ 10^9\n- 0 ≤ A_i, B_i ≤ 10^9\n- Все входные значения являются целыми числами.",
    "IO Styles": "Входные данные\nВходные данные подается из стандартного ввода в следующем формате:\nN X Y\nA_1 B_1\nA_2 B_2\n\\vdots\nA_N B_N\nВыходные данные\nВыведите число, по модулю 998244353, способов, которым Такаши может изначально взять сумки так, чтобы выиграть при оптимальной игре обоих игроков.",
    "Sample Detail": [
        {
            "input": "2 1 1\n1 0\n1 1\n",
            "output": "2\n",
            "explanation": "Рассмотрим случай, когда Такахаси изначально берёт сумки 1 и 2. Один из возможных ходов игры выглядит следующим образом:\n\n- Такахаси выбирает сумку 2, убирает 1 золотую монету и добавляет 1 серебряную монету. Затем он отдаёт сумку 2 Аоки.\n- У Такахаси остаётся сумка 1 с 1 золотой монетой. У Аоки сумка 2 с 2 серебряными монетами.\n\n- Аоки выбирает сумку 2 и убирает 1 серебряную монету. Затем отдаёт сумку 2 Такахаси.\n- У Такахаси сумки 1 с 1 золотой монетой и сумка 2 с 1 серебряной монетой. У Аоки нет сумок.\n\n- Такахаси выбирает сумку 1, убирает 1 золотую монету и добавляет 1 серебряную монету. Затем он отдаёт сумку 1 Аоки.\n- У Такахаси остаётся сумка 2 с 1 серебряной монетой. У Аоки сумка 1 с 1 серебряной монетой.\n\n- Аоки выбирает сумку 1, убирает 1 серебряную монету. Затем он отдаёт сумку 1 Такахаси.\n- У Такахаси сумка 1, которая пустая, и сумка 2 с 1 серебряной монетой. У Аоки нет сумок.\n\n- Такахаси выбирает сумку 2 и убирает 1 серебряную монету. Затем он отдаёт сумку 2 Аоки.\n- У Такахаси сумка 1, которая пустая. У Аоки сумка 2, которая тоже пустая.\n\n- Аоки не может выполнить операцию, поэтому Аоки проигрывает, а Такахаси выигрывает.\n\nТакахаси может выиграть, если он изначально возьмёт только сумку 2 или если он возьмёт обе сумки 1 и 2. Таким образом, ответ — 2.",
            "images": []
        },
        {
            "input": "2 2 1\n1 2\n1 2\n",
            "output": "3\n",
            "explanation": "Но Такахаши выигрывает, если он изначально возьмет сумку 1, сумку 2 или обе.",
            "images": []
        },
        {
            "input": "5 8 3\n0 0\n0 0\n0 0\n0 0\n0 0\n",
            "output": "0\n",
            "explanation": "Несмотря на то, как Такэхаси изначально выберет сумки, он проиграет.",
            "images": []
        },
        {
            "input": "7 2025 191\n1323 9953\n2763 3225\n2624 5938\n6718 2998\n3741 7040\n9837 1681\n8817 4471\n",
            "output": "40\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "ru"
}