{
    "Title": "AtCoder Regular Contest 194 (Div. 2)",
    "Source": "atcoder",
    "Name": "Reverse Brackets",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "以下のいずれかの条件を満たす文字列を正しい括弧列と定義します。\n- 空文字列\n- ある正しい括弧列 A が存在して、(, A, ) をこの順に連結した文字列\n- ある空でない正しい括弧列 A, B が存在して、A, B をこの順に連結した文字列\n長さ N の正しい括弧列 S が与えられます。あなたは以下の操作を何度でも行うことができます。\n- S の連続部分文字列のうち、正しい括弧列であるものを 1 個選び、反転させる。\nここで S の l 文字目から r 文字目までからなる連続部分文字列を反転させるとは、以下を行うことを指します。\n- l ≤ i ≤ r を満たす整数 i に対して同時に S_i を S_{l+r-i} が ( なら ) に、) なら ( に置き換える。(ここでの反転は、通常の反転の定義とは異なる点に注意してください。)\n操作終了時にあり得る S の個数を 998244353 で割ったあまりを求めてください。",
    "Statement Images": [],
    "Constraints": "- 1 ≤ N ≤ 5000\n- |S|=N\n- S は正しい括弧列",
    "IO Styles": "入力\n入力は以下の形式で標準入力から与えられる。\nN\r\nS\r\n出力\n答えを出力せよ。",
    "Sample Detail": [
        {
            "input": "6\n(())()\n",
            "output": "2\n",
            "explanation": "例えば、以下のように操作をすることで、S を ()(()) にすることができます。\n\n- S の連続部分列として、S の 1 文字目から 6 文字目を選ぶ。これは正しい括弧列である。S が ()(()) となる。\n\n\n他に作ることのできる S は (())() のみです。よって答えは 2 です。",
            "images": []
        },
        {
            "input": "2\n()\n",
            "output": "1\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "jp"
}