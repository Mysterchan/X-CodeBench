{
    "Title": "AtCoder Beginner Contest 410",
    "Source": "atcoder",
    "Name": "Longest Chord Chain",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "На круге расположены 2N попарно различных точек, пронумерованных от 1 до 2N. Начинается с точки 1 и по часовой стрелке точки расположены как точка 2, точка 3, ..., точка 2N. \nВам даны N хорд на этом круге. Концы i-й хорды находятся в точках A_i и B_i, причем 2N значений A_1,...,A_N,B_1,...,B_N все различны. \nВыполните следующие операции на этом круге один раз в указанном порядке:\n- Среди N хорд на круге выберите любое количество хорд так, чтобы ни две выбранные хорды не пересекались, и удалите оставшиеся хорды.\n- Свободно добавьте одну хорду на круг. \nНайдите максимальное возможное количество точек пересечения между хордми после завершения операций.",
    "Statement Images": [],
    "Constraints": "- $1 ≤ N ≤ 2\\times 10^5$  \n- $1 ≤ A_i,B_i ≤ 2N$  \n- Значения $A_1, ..., A_N,B_1,...,B_N$ (всего $2N$ значений) попарно различны.  \n- Все входные значения являются целыми числами.",
    "IO Styles": "Входные данные\nВходные данные предоставляются из стандартного ввода в следующем формате:\nN\nA_1 B_1\nA_2 B_2\n\\vdots\nA_N B_N\nВыходные данные\nВыведите ответ.",
    "Sample Detail": [
        {
            "input": "3\n1 5\n6 3\n4 2\n",
            "output": "2\n",
            "explanation": "Сначала на круге находятся 3 хорды, как показано на рисунке. \nПосле удаления хорды, соединяющей точки 3 и 6, и добавления новой хорды в результате операций, количество точек пересечения между хордами составляет 2.\n\n![image](1.png)\n\nНевозможно добиться того, чтобы количество точек пересечения между хордами составляло 3 или более, поэтому ответ - 2.\n\nКонцы добавленной в конце хорды не обязательно должны совпадать с любыми из точек 1,..., 2N.",
            "images": [
                "https://img.atcoder.jp/abc410/be5d090022ebeba5ad0aeea63ef1c38b.png"
            ]
        },
        {
            "input": "4\n1 8\n2 7\n3 6\n4 5\n",
            "output": "4\n",
            "explanation": "",
            "images": []
        },
        {
            "input": "3\n1 2\n3 4\n5 6\n",
            "output": "2\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "ru"
}