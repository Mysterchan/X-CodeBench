{
    "Title": "Tokio Marine & Nichido Fire Insurance Programming Contest 2025  (AtCoder Beginner Contest 402)",
    "Source": "atcoder",
    "Name": "Line Crossing",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "На круге расположено N равномерно распределённых точек, пронумерованных по часовой стрелке от 1 до N. \nДано M различных линий, где i-я линия проходит через две различные точки A_i и B_i (1 ≤ i ≤ M). \nНеобходимо найти количество пар (i,j), удовлетворяющих условиям:\n- 1 ≤ i < j ≤ M, и\n- i-я и j-я линии пересекаются.",
    "Statement Images": [],
    "Constraints": "- 2 ≤ N ≤ 10^6  \n- 1 ≤ M ≤ 3 \\times 10^{5}  \n- 1 ≤ A_i < B_i ≤ N (1 ≤ i ≤ M)  \n- (A_i,B_i) ≠ (A_j,B_j) (i ≠ j)  \n- Все входные данные являются целыми числами.",
    "IO Styles": "Входные данные\nВходные данные поступают из стандартного ввода в следующем формате:\nN M\nA_1 B_1\nA_2 B_2\n\\vdots\nA_M B_M\nВыходные данные\nВыведите ответ.",
    "Sample Detail": [
        {
            "input": "8 3\n1 5\n1 8\n2 4\n",
            "output": "2\n",
            "explanation": "Как показано на диаграмме ниже, на круге расположены восемь точек и три линии.\n![image](1.png)\n\n1-я и 2-я линии пересекаются. 1-я и 3-я линии не пересекаются. 2-я и 3-я линии пересекаются. Поскольку пары (i,j)=(1,2),(2,3) удовлетворяют условиям, выведите 2.",
            "images": [
                "https://img.atcoder.jp/abc402/82c44ea5d5dd6546c7c8f32447490107.png"
            ]
        },
        {
            "input": "5 10\n2 5\n1 5\n1 2\n2 4\n2 3\n1 3\n1 4\n3 5\n3 4\n4 5\n",
            "output": "40\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "ru"
}