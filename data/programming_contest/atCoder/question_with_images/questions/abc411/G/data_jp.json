{
    "Title": "ユニークビジョンプログラミングコンテスト2025 夏（AtCoder Beginner Contest 411）",
    "Source": "atcoder",
    "Name": "Count Cycles",
    "Time Limit": "6 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "N 頂点 M 辺の無向グラフ G があります。\nG は自己ループを含みませんが、多重辺は含む可能性があります。\n頂点には 1 から N までの、辺には 1 から M までの番号がそれぞれ付けられており、辺 i は頂点 U_i,V_i の間に張られています。\nG に含まれるサイクルの個数を 998244353 で割った余りを求めてください。\nより形式的には、与えられた辺集合の部分集合 \\lbrace e_1,e_2,\\dots,e_k\\rbrace \\subseteq \\lbrace 1,2,\\dots,M\\rbrace\\ (k≥ 2) であって以下の条件を満たすものの個数を 998244353 で割った余りを求めてください。\n- (e_1,e_2,\\dots,e_k) の並び替え (e_1',e_2',\\dots,e_k') および頂点列 (v_1,v_2,\\dots,v_k) の組であって、以下を全て満たすものが存在する。\n- v_1,v_2,\\dots,v_k は互いに相異なる\n- 全ての j\\ (1≤ j≤ k) について、辺 e_j' は頂点 v_j,v_{(j\\bmod k) + 1} の間に張られている",
    "Statement Images": [],
    "Constraints": "- 2≤ N ≤ 20\n- 2≤ M ≤ 2\\times 10^5\n- 1≤ U_i < V_i ≤ N\n- 入力は全て整数",
    "IO Styles": "入力\n入力は以下の形式で標準入力から与えられる。\nN M\nU_1 V_1\nU_2 V_2\n\\vdots\nU_M V_M\n出力\n答えを出力せよ。",
    "Sample Detail": [
        {
            "input": "3 4\n1 3\n1 2\n2 3\n1 3\n",
            "output": "3\n",
            "explanation": "以下の図の通り、全部で 3 個のサイクルが存在します。\n丸の中に書かれた数字と線の横に書かれた数字はそれぞれ頂点番号、辺番号を表します。\n赤い線がサイクルに含まれる辺、黒い線がそれ以外の辺を表します。\n\n![image](1.png)\n\n左から順に、辺集合 \\lbrace 1,2,3 \\rbrace,\\lbrace 2,3,4 \\rbrace,\\lbrace 1,4 \\rbrace をそれぞれ選ぶことに対応しています。",
            "images": [
                "https://img.atcoder.jp/abc411/04b030a3842b2a8a0570502f1a691681.png"
            ]
        },
        {
            "input": "4 2\n1 4\n2 3\n",
            "output": "0\n",
            "explanation": "",
            "images": []
        },
        {
            "input": "5 15\n1 5\n3 4\n2 3\n2 4\n3 5\n4 5\n2 5\n2 3\n1 3\n4 5\n2 5\n4 5\n1 2\n3 4\n1 5\n",
            "output": "166\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "jp"
}