{
    "Title": "AtCoder Regular Contest 197 (Div. 2)",
    "Source": "atcoder",
    "Name": "Ancestor Relation",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "Вам дана матрица N\\times N A = (A_{i,j}) (1≤ i,j≤ N), элементы которой равны 0 или 1. Найдите, по остаткам от деления на 998244353, количество деревьев G на N вершинах с номерами от 1 до N, которые удовлетворяют следующему условию:\n- A_{i,j}=1 тогда и только тогда, когда выполняется хотя бы одно из следующих условий:\n- Когда G вырастается из вершины 1, Вершина j является предком вершины i. То есть, вершина j находится на уникальном пути в G между вершинами 1 и i.\n- Когда G вырастается из вершины 1, Вершина i является предком вершины j. То есть, вершина i находится на уникальном пути в G между вершинами 1 и j.\nПри этом концы пути считаются находящимися на этом пути. Обратите внимание, что то, что G является деревом, гарантирует уникальность пути между любыми двумя вершинами.\nСуществует T тестов; решите каждый из них.",
    "Statement Images": [],
    "Constraints": "- $1≤ T≤ 10^5$\n- $2≤ N≤ 400$\n- $A_{i,j}\\in \\lbrace 0,1\\rbrace$ $(1≤ i,j≤ N)$\n- $A_{i,i}=1$ $(1≤ i≤ N)$\n- $A_{i,j}=A_{j,i}$ $(1≤ i,j≤ N)$\n- Сумма $N^2$ по всем тестовым случаям не превышает $400^2$.",
    "IO Styles": "Входные данные\nВходные данные поступают из стандартного ввода в следующем формате:\nT\n\\text{case}_1\n\\vdots\n\\text{case}_T\nКаждый набор данных имеет следующий формат:\nN\nA_{1,1} \\cdots A_{1,N}\n\\vdots\nA_{N,1} \\cdots A_{N,N}\nВыходные данные\nВывести T строк. В i-й строке должно содержаться число, взятое по модулю 998244353, деревьев G, которые удовлетворяют условиям i-го теста.",
    "Sample Detail": [
        {
            "input": "5\n3\n1 1 1\n1 1 0\n1 0 1\n3\n1 1 1\n1 1 1\n1 1 1\n3\n1 0 0\n0 1 0\n0 0 1\n3\n1 0 1\n0 1 1\n1 1 1\n7\n1 1 1 1 1 1 1\n1 1 0 1 0 1 1\n1 0 1 1 1 1 0\n1 1 1 1 1 1 1\n1 0 1 1 1 1 0\n1 1 1 1 1 1 1\n1 1 0 1 0 1 1\n",
            "output": "1\n2\n0\n0\n8\n",
            "explanation": "В первом тестовом случае следующее дерево G удовлетворяет условию:\n![image](1.png)\n\nВо втором тестовом случае следующие два дерева G удовлетворяют условию:\n![image](2.png)",
            "images": [
                "https://img.atcoder.jp/arc197/047f79d01c371fe5f47850c631892671.png",
                "https://img.atcoder.jp/arc197/ff998867883faff858791a57f8497f6d.png"
            ]
        }
    ],
    "Language": "ru"
}