{
    "Title": "AtCoder Regular Contest 197 (Div. 2)",
    "Source": "atcoder",
    "Name": "Union of Grid Paths",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "H\\times W のマス目があります．上から h 行目，左から w 列目のマスを (h,w) で表します．さらに，D, R, ? からなる長さ H+W-2 の文字列 S=S_1\\cdots S_{H+W-2} が与えられます．\nはじめ，すべてのマスは白色で塗られています．あなたは次の 3 つの手順からなる操作を何度でも行うことができます：\n- 以下の条件をすべて満たす長さ H+W-2 の文字列 X=X_1\\cdots X_{H+W-2} をひとつ選ぶ．\n- X は H-1 個の D および W-1 個の R からなる．\n- 1≤ i≤ H+W-2 に対して，S_i が D ならば X_i も D である．\n- 1≤ i≤ H+W-2 に対して，S_i が R ならば X_i も R である．\n- マス (1,1) に立つ．さらに i=1,2,... の順に，文字 X_i の表す方向に 1 マス移動する．つまり，X_i が D ならば下方向，X_i が R ならば右方向に 1 マス移動する．なお，X が手順 1 の条件を満たすとき，移動先のマスは必ずマス目内に存在することが証明できる．\n- 手順 2 においてあなたが通ったすべてのマス（最初・最後のマスも含む）について，そのマスが白色で塗られているならば，黒色で塗る．\n最終的に黒色で塗ることができるマスの個数としてありうる最大値を求めてください．\nT 個のテストケースが与えられるので，それぞれについて解いてください．",
    "Statement Images": [],
    "Constraints": "- 1≤ T≤ 2\\times 10^5\n- 2≤ H, W≤ 2\\times 10^5\n- T,H,W は整数．\n- S は D, R, ? からなる長さ H+W-2 の文字列．\n- S に含まれる D の個数は H-1 以下．\n- S に含まれる R の個数は W-1 以下．\n- すべてのテストケースにわたる H+W の総和は 4\\times 10^5 以下．",
    "IO Styles": "入力\n入力は以下の形式で標準入力から与えられます．\nT\n\\text{case}_1\n\\vdots\n\\text{case}_T\n各ケースは以下の形式で与えられます．\nH W\nS\n出力\nT 行出力してください．i 行目には i 番目のテストケースについて，最終的に黒色で塗ることができるマスの個数としてありうる最大値を出力してください．",
    "Sample Detail": [
        {
            "input": "4\n4 5\nD?DRR?R\n4 5\nDDRRDRR\n4 5\n???????\n2 2\nDR\n",
            "output": "12\n8\n20\n3\n",
            "explanation": "1 つめのテストケースについて，1 回目に X として DRDRRDR を選び，2 回目に X として DDDRRRR を選ぶことで，12 個のマスを黒く塗ることができます．\n\n![image](1.png)",
            "images": [
                "https://img.atcoder.jp/arc197/fe14a42d236585f23bf6e59480bb45ac.png"
            ]
        }
    ],
    "Language": "jp"
}