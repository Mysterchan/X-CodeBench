{
    "Title": "AtCoder Regular Contest 197 (Div. 2)",
    "Source": "atcoder",
    "Name": "Union of Grid Paths",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "Есть сетка H×W ячеек. Пусть (h,w) обозначает ячейку в h-ой строке сверху и w-ой колонке слева. Кроме того, вам дана строка S = S_1\\cdots S_{H+W-2} длиной H+W-2, состоящая из символов D, R и ?. \nИзначально все ячейки окрашены в белый цвет. Вы можете выполнять следующую операцию, состоящую из трех шагов, любое количество раз:\n- Выберите строку X = X_1\\cdots X_{H+W-2} длиной H+W-2, которая удовлетворяет всем следующим условиям.\n- X состоит ровно из H-1 символов D и W-1 символов R.\n- Для каждого 1 ≤ i ≤ H+W-2, если S_i = D, то X_i также должно быть D.\n- Для каждого 1 ≤ i ≤ H+W-2, если S_i = R, то X_i также должно быть R.\n- Находясь в ячейке (1,1), затем для i = 1, 2, ... по порядку, двигайтесь на одну ячейку в направлении, указанном X_i: если X_i = D, двигайтесь вниз на одну ячейку; если X_i = R, двигайтесь вправо на одну ячейку. Можно доказать, что если X удовлетворяет условиям из первого шага, конечная ячейка всегда существует в сетке.\n- Для каждой ячейки, которую вы посетили на шаге 2 (включая начальную и конечную ячейки), если ячейка в данный момент белая, покрасьте её в черный.\nНайдите максимальное возможное количество ячеек, которые могут быть окрашены в черный цвет в итоге.\nСуществует T тестовых случаев; решите каждый из них.",
    "Statement Images": [],
    "Constraints": "- $1 ≤ T ≤ 2 \\times 10^5$\n- $2 ≤ H, W ≤ 2 \\times 10^5$\n- $T$, $H$, $W$ — целые числа.\n- $S$ — строка длиной $H + W - 2$, состоящая из символов D, R и ?.\n- Количество D в строке $S$ не превышает $H - 1$.\n- Количество R в строке $S$ не превышает $W - 1$.\n- Сумма $H + W$ по всем тестовым случаям не превышает $4 \\times 10^5$.",
    "IO Styles": "Входные данные\nВходные данные поступают из стандартного ввода в следующем формате:\nT\n\\text{case}_1\n\\vdots\n\\text{case}_T\nКаждый случай представлен в следующем формате:\nH W\nS\nВыходные данные\nВыведите T строк. $i$-я строка должна содержать максимальное количество клеток, которые могут быть закрашены черным для $i$-го тестового случая.",
    "Sample Detail": [
        {
            "input": "4\n4 5\nD?DRR?R\n4 5\nDDRRDRR\n4 5\n???????\n2 2\nDR\n",
            "output": "12\n8\n20\n3\n",
            "explanation": "Для первого теста, выбрав X как DRDRRDR в первой операции и DDDRRRR во второй операции, вы можете закрасить 12 ячеек в черный цвет.",
            "images": [
                "https://img.atcoder.jp/arc197/fe14a42d236585f23bf6e59480bb45ac.png"
            ]
        }
    ],
    "Language": "ru"
}