{
    "Title": "Panasonic Programming Contest 2025（AtCoder Beginner Contest 406）",
    "Source": "atcoder",
    "Name": "Compare Tree Weights",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "В задаче имеется дерево T с N вершинами.  \nВершины пронумерованы как вершина 1, вершина 2, ..., вершина N, а ребра пронумерованы как ребро 1, ребро 2, ..., ребро (N-1).  \nРебро i (1 ≤ i ≤ N-1) соединяет вершины U_i и V_i.  \nКаждая вершина имеет вес; изначально вес каждой вершины равен 1.  \nВам даны Q запросов, которые необходимо обработать последовательно.  \nКаждый запрос является одним из следующих двух типов:  \n- 1 x w: Увеличить вес вершины x на w.  \n- 2 y: Если ребро y будет удалено, дерево T будет разделено на два поддерева (связные компоненты). Для каждого поддерева пусть его вес будет равен сумме весов его вершин. Выведите разницу между весами двух поддеревьев.  \nМожно доказать, что при запросе второго типа удаление любого ребра T всегда разделяет его ровно на два поддерева.  \nОбратите внимание, что запросы второго типа фактически не удаляют ребро.",
    "Statement Images": [],
    "Constraints": "- 2 ≤ N ≤ 3 \\times 10^5\n- 1 ≤ U_i, V_i ≤ N\n- 1 ≤ Q ≤ 3 \\times 10^5\n- 1 ≤ x ≤ N\n- 1 ≤ w ≤ 1000\n- 1 ≤ y ≤ N-1\n- Все входные значения являются целыми числами.\n- Данный граф является деревом.\n- Существует хотя бы один запрос второго типа.",
    "IO Styles": "Входные данные\nВходные данные подаются через стандартный ввод в следующем формате:\nN\nU_1 V_1\nU_2 V_2\n\\vdots\nU_{N-1} V_{N-1}\nQ\n\\mathrm{query}_1\n\\mathrm{query}_2\n\\vdots\n\\mathrm{query}_Q\nКаждый запрос \\mathrm{query}_i (1≤ i≤ Q) представлен в одном из следующих форматов:\n1 x w\n2 y\nВыходные данные\nОбозначим K как количество запросов второго типа.\nВыведите K строк; i-я строка (1 ≤ i ≤ K) должна содержать ответ на i-й запрос второго типа.",
    "Sample Detail": [
        {
            "input": "6\n1 2\n1 3\n2 4\n4 5\n4 6\n5\n2 1\n1 1 3\n2 1\n1 4 10\n2 5\n",
            "output": "2\n1\n17\n",
            "explanation": "Структура дерева T и нумерация вершин показаны слева на рисунке ниже. Изначально вес каждой вершины равен 1.\n\nВ 1-м запросе рассмотрим удаление ребра 1.\nДерево делится на поддерево, содержащее вершину 1, и поддерево, содержащее вершину 2.\nПоддерево с вершиной 1 имеет вес 2; поддерево с вершиной 2 имеет вес 4. Выведите разницу, 2 (рисунок ниже, справа).\n\n![image](1.png)\n\nВо 2-м запросе вес вершины 1 увеличивается на 3.\n\nВ 3-м запросе рассмотрим удаление ребра 1.\nПоддерево с вершиной 1 имеет вес 5; поддерево с вершиной 2 имеет вес 4. Выведите разницу, 1 (рисунок ниже, слева).\n\nВ 4-м запросе вес вершины 4 увеличивается на 10.\n\nВ 5-м запросе рассмотрим удаление ребра 5.\nДерево делится на поддерево, содержащее вершину 4, и поддерево, состоящее только из вершины 6.\nПоддерево с вершиной 4 имеет вес 18; поддерево с вершиной 6 имеет вес 1. Выведите разницу, 17 (рисунок ниже, справа).\n\n![image](2.png)\n\nТаким образом, выведите ответы на запросы второго типа в порядке: 2, 1 и 17, разделив их переводами строк.",
            "images": [
                "https://img.atcoder.jp/abc406/6f17e951940c2460b3ae5fe8e6bddc52.png",
                "https://img.atcoder.jp/abc406/c5eacf2967bcc2b09866a0d8b83104c4.png"
            ]
        }
    ],
    "Language": "ru"
}