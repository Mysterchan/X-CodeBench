{
    "Title": "AtCoder Beginner Contest 387（Promotion of AtCoderJobs）",
    "Source": "atcoder",
    "Name": "Snaky Walk",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "H 行 W 列のグリッドがあります。\n上から i 行目、左から j 列目のマスを (i,j) と表記します。\n各マスはスタートマス・ゴールマス・空きマス・障害物マスのいずれかであり、その情報は H 個の長さ W の文字列 S_1,S_2,\\dots,S_H によって表されます。\n具体的には、マス (i,j) は S_i の j 文字目が S であるときスタートマス、G であるときゴールマス、. であるとき空きマス、# であるとき障害物マスです。\nここで、スタートマスとゴールマスはちょうど 1 つずつ存在することが保証されます。\nあなたは今スタートマスにいます。\nあなたの目標は、今いるマスと辺で隣接するマスに移動することを繰り返してゴールマスへ行くことです。\nただし、障害物マスやグリッドの外に移動することはできず、また縦移動と横移動を 1 回ずつ交互に行わなければなりません。（最初の移動の向きは任意です。）\nゴールマスへ行くことが可能であるか判定し、可能ならば移動回数の最小値を求めてください。\nより形式的には、以下の条件をすべて満たすマスの列 (i_1,j_1),(i_2,j_2),\\dots,(i_k,j_k) が存在するか判定し、存在するならば k-1 の最小値を求めてください。\n- すべての 1≤ l≤ k について、1≤ i_l≤ H かつ 1≤ j_l≤ W であり、(i_l,j_l) は障害物マスでない\n- (i_1,j_1) はスタートマス\n- (i_k,j_k) はゴールマス\n- すべての 1≤ l≤ k-1 について、|i_l-i_{l+1}|+|j_l-j_{l+1}|=1\n- すべての 1≤ l≤ k-2 について、i_l\\neq i_{l+1} ならば i_{l+1}=i_{l+2}\n- すべての 1≤ l≤ k-2 について、j_l\\neq j_{l+1} ならば j_{l+1}=j_{l+2}",
    "Statement Images": [],
    "Constraints": "- 1≤ H,W ≤ 1000\n- H,W は整数\n- S_i は S, G, ., # からなる長さ W の文字列\n- スタートマスとゴールマスはちょうど 1 つずつ存在する",
    "IO Styles": "入力\n入力は以下の形式で標準入力から与えられる。\nH W\r\nS_1\r\nS_2\r\n\\vdots\r\nS_H\r\n出力\nゴールマスへ行くことが可能ならば移動回数の最小値を、不可能ならば -1 を出力せよ。",
    "Sample Detail": [
        {
            "input": "3 5\n.S#.G\n.....\n.#...\n",
            "output": "7\n",
            "explanation": "![image](1.png)\n\n左図のように (1,2)\\rightarrow(2,2)\\rightarrow(2,3)\\rightarrow(3,3)\\rightarrow(3,4)\\rightarrow(2,4)\\rightarrow(2,5)\\rightarrow(1,5) と移動することで、7 回の移動でゴールマスへ行くことができます。\r\n6 回以下の移動でゴールマスへ行くことはできないので、答えは 7 です。\n\n右図のように横移動を連続で行う経路（あるいは縦移動を連続で行う経路）はとれないことに注意してください。",
            "images": [
                "https://img.atcoder.jp/abc387/6ef2f123adae6bc6bb157af8f30afe89.png"
            ]
        },
        {
            "input": "3 5\n..#.G\n.....\nS#...\n",
            "output": "-1\n",
            "explanation": "ゴールマスへ行くことはできません。",
            "images": []
        },
        {
            "input": "8 63\n...............................................................\n..S...#............................#####..#####..#####..####G..\n..#...#................................#..#...#......#..#......\n..#####..####...####..####..#..#...#####..#...#..#####..#####..\n..#...#..#..#...#..#..#..#..#..#...#......#...#..#..........#..\n..#...#..#####..####..####..####...#####..#####..#####..#####..\n................#.....#........#...............................\n................#.....#........#...............................\n",
            "output": "148\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "jp"
}