{
    "Title": "AtCoder Beginner Contest 387",
    "Source": "atcoder",
    "Name": "Snaky Walk",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "給定一個 H 行 W 列的網格。\n令 (i,j) 表示從上往下的第 i 行和從左往右的第 j 列的單元格。\n每個單元格可以是以下之一：起始單元格、目標單元格、空單元格或障礙單元格。這些信息通過 H 個字符串 S_1,S_2,\\dots,S_H 來描述，每個字符串的長度為 W。具體來說，如果 S_i 的第 j 個字符是 S，則單元格 (i,j) 是起始單元格；如果是 G，則是目標單元格；如果是 .，則是空單元格；如果是 #，則是障礙單元格。保證恰好有一個起始單元格和一個目標單元格。\n你目前在起始單元格上。\n你的目標是通過重複移動到與當前單元格相鄰的單元格來達到目標單元格。\n然而，你不能移動到障礙單元格或移出網格，且每次必須在垂直移動和水平方向之間交替移動。（第一次移動的方向可以隨意選擇。）\n請判斷是否可能到達目標單元格。如果可以，找出所需的最小移動次數。\n更正式地說，檢查是否存在一個單元格序列 (i_1,j_1),(i_2,j_2),\\dots,(i_k,j_k) 滿足以下所有條件。如果存在這樣的序列，則找出 k-1 的最小值。\n- 對於每個 1 ≤ l ≤ k，滿足 1 ≤ i_l ≤ H 和 1 ≤ j_l ≤ W，並且 (i_l,j_l) 不是障礙單元格。\n- (i_1,j_1) 是起始單元格。\n- (i_k,j_k) 是目標單元格。\n- 對於每個 1 ≤ l ≤ k-1，|i_l - i_{l+1}| + |j_l - j_{l+1}| = 1。\n- 對於每個 1 ≤ l ≤ k-2，若 i_l \\neq i_{l+1}，則 i_{l+1} = i_{l+2}。\n- 對於每個 1 ≤ l ≤ k-2，若 j_l \\neq j_{l+1}，則 j_{l+1} = j_{l+2}。",
    "Statement Images": [],
    "Constraints": "- 1 ≤ H,W ≤ 1000\n- H 和 W 是整數。\n- 每個 S_i 是一個長度為 W 的字符串，由 S、G、.、# 組成。\n- 恰好有一個起始單元格和一個目標單元格。",
    "IO Styles": "輸入\n輸入是以以下格式從標準輸入給出：\nH W\nS_1\nS_2\n\\vdots\nS_H\n輸出\n如果可以到達目標單元格，請輸出最小移動次數。否則，請輸出 -1。",
    "Sample Detail": [
        {
            "input": "3 5\n.S#.G\n.....\n.#...\n",
            "output": "7\n",
            "explanation": "![image](1.png)\n\n如左圖所示，您可以以 (1,2)→(2,2)→(2,3)→(3,3)→(3,4)→(2,4)→(2,5)→(1,5) 的方式來移動，總共需要 7 步才能到達目標單元格。\n在 6 步或更少的情況下無法到達，因此答案是 7。\n\n請注意，您不能按照右圖所示的方式連續水平（或垂直）移動而不進行交替。",
            "images": [
                "https://img.atcoder.jp/abc387/6ef2f123adae6bc6bb157af8f30afe89.png"
            ]
        },
        {
            "input": "3 5\n..#.G\n.....\nS#...\n",
            "output": "-1\n",
            "explanation": "無法到達目標單元格。",
            "images": []
        },
        {
            "input": "8 63\n...............................................................\n..S...#............................#####..#####..#####..####G..\n..#...#................................#..#...#......#..#......\n..#####..####...####..####..#..#...#####..#...#..#####..#####..\n..#...#..#..#...#..#..#..#..#..#...#......#...#..#..........#..\n..#...#..#####..####..####..####...#####..#####..#####..#####..\n................#.....#........#...............................\n................#.....#........#...............................\n",
            "output": "148\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "cn"
}