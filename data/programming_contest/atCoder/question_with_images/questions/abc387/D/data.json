{
    "Title": "AtCoder Beginner Contest 387",
    "Source": "atcoder",
    "Name": "Snaky Walk",
    "Time Limit": "2 sec",
    "Memory Limit": "1024 MiB",
    "Problem Statement": "You are given a grid with H rows and W columns.\nLet (i,j) denote the cell at the i-th row from the top and the j-th column from the left.\nEach cell is one of the following: a start cell, a goal cell, an empty cell, or an obstacle cell. This information is described by H strings S_1,S_2,\\dots,S_H, each of length W. Specifically, the cell (i,j) is a start cell if the j-th character of S_i is S, a goal cell if it is G, an empty cell if it is ., and an obstacle cell if it is #. It is guaranteed that there is exactly one start cell and exactly one goal cell.\nYou are currently on the start cell.\nYour objective is to reach the goal cell by repeatedly moving to a cell adjacent by an edge to the one you are in.\nHowever, you cannot move onto an obstacle cell or move outside the grid, and you must alternate between moving vertically and moving horizontally each time. (The direction of the first move can be chosen arbitrarily.)\nDetermine if it is possible to reach the goal cell. If it is, find the minimum number of moves required.\nMore formally, check if there exists a sequence of cells (i_1,j_1),(i_2,j_2),\\dots,(i_k,j_k) satisfying all of the following conditions. If such a sequence exists, find the minimum value of k-1.\n- For every 1 ≤ l ≤ k, it holds that 1 ≤ i_l ≤ H and 1 ≤ j_l ≤ W, and (i_l,j_l) is not an obstacle cell.\n- (i_1,j_1) is the start cell.\n- (i_k,j_k) is the goal cell.\n- For every 1 ≤ l ≤ k-1, |i_l - i_{l+1}| + |j_l - j_{l+1}| = 1.\n- For every 1 ≤ l ≤ k-2, if i_l \\neq i_{l+1}, then i_{l+1} = i_{l+2}. \n- For every 1 ≤ l ≤ k-2, if j_l \\neq j_{l+1}, then j_{l+1} = j_{l+2}.",
    "Statement Images": [],
    "Constraints": "- 1 ≤ H,W ≤ 1000\n- H and W are integers.\n- Each S_i is a string of length W consisting of S, G, ., #.\n- There is exactly one start cell and exactly one goal cell.",
    "IO Styles": "Input\nThe input is given from Standard Input in the following format:\nH W\r\nS_1\r\nS_2\r\n\\vdots\r\nS_H\r\nOutput\nIf it is possible to reach the goal cell, print the minimum number of moves. Otherwise, print -1.",
    "Sample Detail": [
        {
            "input": "3 5\n.S#.G\n.....\n.#...\n",
            "output": "7\n",
            "explanation": "![image](1.png)\n\nAs shown in the left figure, you can move as (1,2)\\rightarrow(2,2)\\rightarrow(2,3)\\rightarrow(3,3)\\rightarrow(3,4)\\rightarrow(2,4)\\rightarrow(2,5)\\rightarrow(1,5), reaching the goal cell in 7 moves.\r\nIt is impossible in 6 moves or fewer, so the answer is 7.\n\nNote that you cannot take a path that moves horizontally (or vertically) consecutively without alternating as shown in the right figure.",
            "images": [
                "https://img.atcoder.jp/abc387/6ef2f123adae6bc6bb157af8f30afe89.png"
            ]
        },
        {
            "input": "3 5\n..#.G\n.....\nS#...\n",
            "output": "-1\n",
            "explanation": "It is not possible to reach the goal cell.",
            "images": []
        },
        {
            "input": "8 63\n...............................................................\n..S...#............................#####..#####..#####..####G..\n..#...#................................#..#...#......#..#......\n..#####..####...####..####..#..#...#####..#...#..#####..#####..\n..#...#..#..#...#..#..#..#..#..#...#......#...#..#..........#..\n..#...#..#####..####..####..####...#####..#####..#####..#####..\n................#.....#........#...............................\n................#.....#........#...............................\n",
            "output": "148\n",
            "explanation": "",
            "images": []
        }
    ],
    "Language": "en"
}